parcelRequire=function(a,s,e){var t,u="function"==typeof parcelRequire&&parcelRequire,c="function"==typeof require&&require;function l(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof parcelRequire&&parcelRequire;if(!e&&n)return n(t,!0);if(u)return u(t,!0);if(c&&"string"==typeof t)return c(t);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}o.resolve=function(e){return a[t][1][e]||e},o.cache={};var i=s[t]=new l.Module(t);a[t][0].call(i.exports,o,i,i.exports,this)}return s[t].exports;function o(e){return l(o.resolve(e))}}l.isParcelRequire=!0,l.Module=function(e){this.id=e,this.bundle=l,this.exports={}},l.modules=a,l.cache=s,l.parent=u,l.register=function(e,n){a[e]=[function(e,t){t.exports=n},{}]};for(var n=0;n<e.length;n++)try{l(e[n])}catch(e){t=t||e}if(e.length){var r=l(e[e.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=r:"function"==typeof define&&define.amd&&define(function(){return r})}if(parcelRequire=l,t)throw t;return l}({fxsm:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=["average","big","colossal","fat","giant","gigantic","great","huge","immense","large","little","long","mammoth","massive","miniature","petite","puny","short","small","tall","tiny","boiling","breezy","broken","bumpy","chilly","cold","cool","creepy","crooked","cuddly","curly","damaged","damp","dirty","dry","dusty","filthy","flaky","fluffy","wet","broad","chubby","crooked","curved","deep","flat","high","hollow","low","narrow","round","shallow","skinny","square","steep","straight","wide","ancient","brief","early","fast","late","long","modern","old","quick","rapid","short","slow","swift","young","abundant","empty","few","heavy","light","many","numerous","Sound","cooing","deafening","faint","harsh","hissing","hushed","husky","loud","melodic","moaning","mute","noisy","purring","quiet","raspy","resonant","screeching","shrill","silent","soft","squealing","thundering","voiceless","whispering","bitter","delicious","fresh","juicy","ripe","rotten","salty","sour","spicy","stale","sticky","strong","sweet","tasteless","tasty","thirsty","fluttering","fuzzy","greasy","grubby","hard","hot","icy","loose","melted","plastic","prickly","rainy","rough","scattered","shaggy","shaky","sharp","shivering","silky","slimy","slippery","smooth","soft","solid","steady","sticky","tender","tight","uneven","weak","wet","wooden","afraid","angry","annoyed","anxious","arrogant","ashamed","awful","bad","bewildered","bored","combative","condemned","confused","creepy","cruel","dangerous","defeated","defiant","depressed","disgusted","disturbed","eerie","embarrassed","envious","evil","fierce","foolish","frantic","frightened","grieving","helpless","homeless","hungry","hurt","ill","jealous","lonely","mysterious","naughty","nervous","obnoxious","outrageous","panicky","repulsive","scary","scornful","selfish","sore","tense","terrible","thoughtless","tired","troubled","upset","uptight","weary","wicked","worried","agreeable","amused","brave","calm","charming","cheerful","comfortable","cooperative","courageous","delightful","determined","eager","elated","enchanting","encouraging","energetic","enthusiastic","excited","exuberant","fair","faithful","fantastic","fine","friendly","funny","gentle","glorious","good","happy","healthy","helpful","hilarious","jolly","joyous","kind","lively","lovely","lucky","obedient","perfect","pleasant","proud","relieved","silly","smiling","splendid","successful","thoughtful","victorious","vivacious","witty","wonderful","zealous","zany","other","good","new","old","great","high","small","different","large","local","social","important","long","young","national","british","right","early","possible","big","little","political","able","late","general","full","far","low","public","available","bad","main","sure","clear","major","economic","only","likely","real","black","particular","international","special","difficult","certain","open","whole","white","free","short","easy","strong","european","central","similar","human","common","necessary","single","personal","hard","private","poor","financial","wide","foreign","simple","recent","concerned","american","various","close","fine","english","wrong","present","royal","natural","individual","nice","french","following","current","modern","labour","legal","happy","final","red","normal","serious","previous","total","prime","significant","industrial","sorry","dead","specific","appropriate","top","soviet","basic","military","original","successful","aware","hon","popular","heavy","professional","direct","dark","cold","ready","green","useful","effective","western","traditional","scottish","german","independent","deep","interesting","considerable","involved","physical","left","hot","existing","responsible","complete","medical","blue","extra","past","male","interested","fair","essential","beautiful","civil","primary","obvious","future","environmental","positive","senior","nuclear","annual","relevant","huge","rich","commercial","safe","regional","practical","official","separate","key","chief","regular","due","additional","active","powerful","complex","standard","impossible","light","warm","middle","fresh","sexual","front","domestic","actual","united","technical","ordinary","cheap","strange","internal","excellent","quiet","soft","potential","northern","religious","quick","very","famous","cultural","proper","broad","joint","formal","limited","conservative","lovely","usual","ltd","unable","rural","initial","substantial","christian","bright","average","leading","reasonable","immediate","suitable","equal","detailed","working","overall","female","afraid","democratic","growing","sufficient","scientific","eastern","correct","inc","irish","expensive","educational","mental","dangerous","critical","increased","familiar","unlikely","double","perfect","slow","tiny","dry","historical","thin","daily","southern","increasing","wild","alone","urban","empty","married","narrow","liberal","supposed","upper","apparent","tall","busy","bloody","prepared","russian","moral","careful","clean","attractive","japanese","vital","thick","alternative","fast","ancient","elderly","rare","external","capable","brief","wonderful","grand","typical","entire","grey","constant","vast","surprised","ideal","terrible","academic","funny","minor","pleased","severe","ill","corporate","negative","permanent","weak","brown","fundamental","odd","crucial","inner","used","criminal","contemporary","sharp","sick","near","roman","massive","unique","secondary","parliamentary","african","unknown","subsequent","angry","alive","guilty","lucky","enormous","well","communist","yellow","unusual","net","tough","dear","extensive","glad","remaining","agricultural","alright","healthy","italian","principal","tired","efficient","comfortable","chinese","relative","friendly","conventional","willing","sudden","proposed","voluntary","slight","valuable","dramatic","golden","temporary","federal","keen","flat","silent","indian","worried","pale","statutory","welsh","dependent","firm","wet","competitive","armed","radical","outside","acceptable","sensitive","living","pure","global","emotional","sad","secret","rapid","adequate","fixed","sweet","administrative","wooden","remarkable","comprehensive","surprising","solid","rough","mere","mass","brilliant","maximum","absolute","tory","electronic","visual","electric","cool","spanish","literary","continuing","supreme","chemical","genuine","exciting","written","stupid","advanced","extreme","classical","fit","favourite","socialist","widespread","confident","straight","catholic","proud","numerous","opposite","distinct","mad","helpful","given","disabled","consistent","anxious","nervous","awful","stable","constitutional","satisfied","conscious","developing","strategic","holy","smooth","dominant","remote","theoretical","outstanding","pink","pretty","clinical","minimum","honest","impressive","related","residential","extraordinary","plain","visible","accurate","distant","still","greek","complicated","musical","precise","gentle","broken","live","silly","fat","tight","monetary","round","psychological","violent","unemployed","inevitable","junior","sensible","grateful","pleasant","dirty","structural","welcome","deaf","above","continuous","blind","overseas","mean","entitled","delighted","loose","occasional","evident","desperate","fellow","universal","square","steady","classic","equivalent","intellectual","victorian","level","ultimate","creative","lost","medieval","clever","linguistic","convinced","judicial","raw","sophisticated","asleep","vulnerable","illegal","outer","revolutionary","bitter","changing","australian","native","imperial","strict","wise","informal","flexible","collective","frequent","experimental","spiritual","intense","rational","ethnic","generous","inadequate","prominent","logical","bare","historic","modest","dutch","acute","electrical","valid","weekly","gross","automatic","loud","reliable","mutual","liable","multiple","ruling","curious","arab","sole","jewish","managing","pregnant","latin","nearby","exact","underlying","identical","satisfactory","marginal","distinctive","electoral","urgent","presidential","controversial","oral","everyday","encouraging","organic","continued","expected","statistical","desirable","innocent","improved","exclusive","marked","experienced","unexpected","superb","sheer","disappointed","frightened","gastric","capitalist","romantic","naked","reluctant","magnificent","convenient","established","closed","uncertain","artificial","diplomatic","tremendous","marine","mechanical","retail","institutional","mixed","required","biological","known","functional","straightforward","superior","digital","spectacular","unhappy","confused","unfair","aggressive","spare","painful","abstract","asian","associated","legislative","monthly","intelligent","hungry","explicit","nasty","just","faint","coloured","ridiculous","amazing","comparable","successive","realistic","back","decent","unnecessary","flying","random","influential","dull","genetic","neat","marvellous","crazy","damp","giant","secure","bottom","skilled","subtle","elegant","brave","lesser","parallel","steep","intensive","casual","tropical","lonely","partial","preliminary","concrete","alleged","assistant","vertical","upset","delicate","mild","occupational","excessive","progressive","iraqi","exceptional","integrated","striking","continental","okay","harsh","combined","fierce","handsome","characteristic","chronic","compulsory","interim","objective","splendid","magic","systematic","obliged","payable","fun","horrible","primitive","fascinating","ideological","metropolitan","surrounding","estimated","peaceful","premier","operational","technological","kind","advisory","hostile","precious","gay","accessible","determined","excited","impressed","provincial","smart","endless","isolated","drunk","geographical","like","dynamic","boring","forthcoming","unfortunate","definite","super","notable","indirect","stiff","wealthy","awkward","lively","neutral","artistic","content","mature","colonial","ambitious","evil","magnetic","verbal","legitimate","sympathetic","empirical","head","shallow","vague","naval","depressed","shared","added","shocked","mid","worthwhile","qualified","missing","blank","absent","favourable","polish","israeli","developed","profound","representative","enthusiastic","dreadful","rigid","reduced","cruel","coastal","peculiar","racial","ugly","swiss","crude","extended","selected","eager","feminist","canadian","bold","relaxed","corresponding","running","planned","applicable","immense","allied","comparative","uncomfortable","conservation","productive","beneficial","bored","charming","minimal","mobile","turkish","orange","rear","passive","suspicious","overwhelming","fatal","resulting","symbolic","registered","neighbouring","calm","irrelevant","patient","compact","profitable","rival","loyal","moderate","distinguished","interior","noble","insufficient","eligible","mysterious","varying","managerial","molecular","olympic","linear","prospective","printed","parental","diverse","elaborate","furious","fiscal","burning","useless","semantic","embarrassed","inherent","philosophical","deliberate","awake","variable","promising","unpleasant","varied","sacred","selective","inclined","tender","hidden","worthy","intermediate","sound","protective","fortunate","slim","islamic","defensive","divine","stuck","driving","invisible","misleading","circular","mathematical","inappropriate","liquid","persistent","solar","doubtful","manual","architectural","intact","incredible","devoted","prior","tragic","respectable","optimistic","convincing","unacceptable","decisive","competent","spatial","respective","binding","relieved","nursing","toxic","select","redundant","integral","then","probable","amateur","fond","passing","specified","territorial","horizontal","inland","cognitive","regulatory","miserable","resident","polite","scared","marxist","gothic","civilian","instant","lengthy","adverse","korean","unconscious","anonymous","aesthetic","orthodox","static","unaware","costly","fantastic","foolish","fashionable","causal","compatible","wee","implicit","dual","ok","cheerful","subjective","forward","surviving","exotic","purple","cautious","visiting","aggregate","ethical","protestant","teenage","dying","disastrous","delicious","confidential","underground","thorough","grim","autonomous","atomic","frozen","colourful","injured","uniform","ashamed","glorious","wicked","coherent","rising","shy","novel","balanced","delightful","arbitrary","adjacent","psychiatric","worrying","weird","unchanged","rolling","evolutionary","intimate","sporting","disciplinary","formidable","lexical","noisy","gradual","accused","homeless","supporting","coming","renewed","excess","retired","rubber","chosen","outdoor","embarrassing","preferred","bizarre","appalling","agreed","imaginative","governing","accepted","vocational","palestinian","mighty","puzzled","worldwide","handicapped","organisational","sunny","eldest","eventual","spontaneous","vivid","rude","faithful","ministerial","innovative","controlled","conceptual","unwilling","civic","meaningful","disturbing","alive","brainy","breakable","busy","careful","cautious","clever","concerned","crazy","curious","dead","different","difficult","doubtful","easy","famous","fragile","helpful","helpless","important","impossible","innocent","inquisitive","modern","open","outstanding","poor","powerful","puzzled","real","rich","shy","sleepy","stupid","super","tame","uninterested","wandering","wild","wrong","adorable","alert","average","beautiful","blonde","bloody","blushing","bright","clean","clear","cloudy","colorful","crowded","cute","dark","drab","distinct","dull","elegant","fancy","filthy","glamorous","gleaming","graceful","grotesque","homely","light","misty","motionless","muddy","plain","poised","quaint","shiny","smoggy","sparkling","spotless","stormy","strange","ugly","unsightly","unusual","bad","better","beautiful","big","black","blue","bright","clumsy","crazy","dizzy","dull","fat","frail","friendly","funny","great","green","gigantic","gorgeous","grumpy","handsome","happy","horrible","itchy","jittery","jolly","kind","long","lazy","magnificent","magenta","many","mighty","mushy","nasty","new","nice","nosy","nutty","nutritious","odd","orange","ordinary","pretty","precious","prickly","purple","quaint","quiet","quick","quickest","rainy","rare","ratty","red","roasted","robust","round","sad","scary","scrawny","short","silly","stingy","strange","striped","spotty","tart","tall","tame","tan","tender","testy","tricky","tough","ugly","ugliest","vast","watery","wasteful","wonderful","yellow","yummy","zany"]},{}],TAQU:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=["amaranth","amber","amethyst","apricot","aqua","aquamarine","azure","beige","black","blue","blush","bronze","brown","chocolate","coffee","copper","coral","crimson","cyan","emerald","fuchsia","gold","gray","green","harlequin","indigo","ivory","jade","lavender","lime","magenta","maroon","moccasin","olive","orange","peach","pink","plum","purple","red","rose","salmon","sapphire","scarlet","silver","tan","teal","tomato","turquoise","violet","white","yellow"]},{}],ch1d:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=["canidae","felidae","cat","cattle","dog","donkey","goat","horse","pig","rabbit","aardvark","aardwolf","albatross","alligator","alpaca","amphibian","anaconda","angelfish","anglerfish","ant","anteater","antelope","antlion","ape","aphid","armadillo","asp","baboon","badger","bandicoot","barnacle","barracuda","basilisk","bass","bat","bear","beaver","bedbug","bee","beetle","bird","bison","blackbird","boa","boar","bobcat","bobolink","bonobo","booby","bovid","bug","butterfly","buzzard","camel","canid","capybara","cardinal","caribou","carp","cat","catshark","caterpillar","catfish","cattle","centipede","cephalopod","chameleon","cheetah","chickadee","chicken","chimpanzee","chinchilla","chipmunk","clam","clownfish","cobra","cockroach","cod","condor","constrictor","coral","cougar","cow","coyote","crab","crane","crawdad","crayfish","cricket","crocodile","crow","cuckoo","cicada","damselfly","deer","dingo","dinosaur","dog","dolphin","donkey","dormouse","dove","dragonfly","dragon","duck","eagle","earthworm","earwig","echidna","eel","egret","elephant","elk","emu","ermine","falcon","ferret","finch","firefly","fish","flamingo","flea","fly","flyingfish","fowl","fox","frog","gamefowl","galliform","gazelle","gecko","gerbil","gibbon","giraffe","goat","goldfish","goose","gopher","gorilla","grasshopper","grouse","guan","guanaco","guineafowl","gull","guppy","haddock","halibut","hamster","hare","harrier","hawk","hedgehog","heron","herring","hippopotamus","hookworm","hornet","horse","hoverfly","hummingbird","hyena","iguana","impala","jackal","jaguar","jay","jellyfish","junglefowl","kangaroo","kingfisher","kite","kiwi","koala","koi","krill","ladybug","lamprey","landfowl","lark","leech","lemming","lemur","leopard","leopon","limpet","lion","lizard","llama","lobster","locust","loon","louse","lungfish","lynx","macaw","mackerel","magpie","mammal","manatee","mandrill","marlin","marmoset","marmot","marsupial","marten","mastodon","meadowlark","meerkat","mink","minnow","mite","mockingbird","mole","mollusk","mongoose","monkey","moose","mosquito","moth","mouse","mule","muskox","narwhal","newt","nightingale","ocelot","octopus","opossum","orangutan","orca","ostrich","otter","owl","ox","panda","panther","parakeet","parrot","parrotfish","partridge","peacock","peafowl","pelican","penguin","perch","pheasant","pig","pigeon","pike","pinniped","piranha","planarian","platypus","pony","porcupine","porpoise","possum","prawn","primate","ptarmigan","puffin","puma","python","quail","quelea","quokka","rabbit","raccoon","rat","rattlesnake","raven","reindeer","reptile","rhinoceros","roadrunner","rodent","rook","rooster","roundworm","sailfish","salamander","salmon","sawfish","scallop","scorpion","seahorse","shark","sheep","shrew","shrimp","silkworm","silverfish","skink","skunk","sloth","slug","smelt","snail","snake","snipe","sole","sparrow","spider","spoonbill","squid","squirrel","starfish","stingray","stoat","stork","sturgeon","swallow","swan","swift","swordfish","swordtail","tahr","takin","tapir","tarantula","tarsier","termite","tern","thrush","tick","tiger","tiglon","toad","tortoise","toucan","trout","tuna","turkey","turtle","tyrannosaurus","urial","vicuna","viper","vole","vulture","wallaby","walrus","wasp","warbler","weasel","whale","whippet","whitefish","wildcat","wildebeest","wildfowl","wolf","wolverine","wombat","woodpecker","worm","wren","xerinae","yak","zebra","alpaca","cat","cattle","chicken","dog","donkey","ferret","gayal","goldfish","guppy","horse","koi","llama","sheep","yak"]},{}],m78u:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=(i.prototype.generate=function(){var a=this;if(!this.dictionaries)throw new Error('Cannot find any dictionary. Please provide at least one, or leave the "dictionary" field empty in the config object');if(this.length<=0)throw new Error("Invalid length provided");if(this.length>this.dictionaries.length)throw new Error("The length cannot be bigger than the number of dictionaries.\nLength provided: "+this.length+". Number of dictionaries provided: "+this.dictionaries.length);return this.dictionaries.slice(0,this.length).reduce(function(e,t){var n=t[Math.floor(Math.random()*t.length)]||"";if("lowerCase"===a.style)n=n.toLowerCase();else if("capital"===a.style){var r=n.split(""),i=r[0],o=r.slice(1);n=i.toUpperCase()+o.join("")}else"upperCase"===a.style&&(n=n.toUpperCase());return e?""+e+a.separator+n:""+n},"")},i);function i(e){var t=e.length,n=e.separator,r=e.dictionaries,i=e.style;this.dictionaries=r,this.separator=n,this.length=t,this.style=i}n.UniqueNamesGenerator=r},{}],oOYt:[function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a=o(e("./dictionaries/adjectives")),s=o(e("./dictionaries/colors")),u=o(e("./dictionaries/animals")),c=e("./unique-names-generator"),l={separator:"_",length:3,dictionaries:[a.default,s.default,u.default]};n.uniqueNamesGenerator=function(e){void 0===e&&(e={});var t=r(r(r({},l),e),{dictionaries:i(e&&e.dictionaries||l.dictionaries)});return new c.UniqueNamesGenerator(t).generate()}},{"./dictionaries/adjectives":"fxsm","./dictionaries/colors":"TAQU","./dictionaries/animals":"ch1d","./unique-names-generator":"m78u"}],LC55:[function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var i=r(e("./adjectives"));n.adjectives=i.default;var o=r(e("./animals"));n.animals=o.default;var a=r(e("./colors"));n.colors=a.default},{"./adjectives":"fxsm","./animals":"ch1d","./colors":"TAQU"}],Qz33:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./lib/index")),r(e("./lib/dictionaries/index"))},{"./lib/index":"oOYt","./lib/dictionaries/index":"LC55"}],EjGt:[function(e,t,n){"use strict";function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.trimEachRow=n.isVideoConvertibleIntoMp4=n.isWebImage=n.getJSONFromLocalStorage=n.detectPlatform=n.detectBrowser=n._flatten=n._round=n._last=n.randomDigitStringId=n.capitalize=n.logEvent=void 0,n.logEvent=function(){var e=1<arguments.length?arguments[1]:void 0,t=2<arguments.length?arguments[2]:void 0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"info";if(0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&window.console){var r="";"error"===n?r="#EB3223":"event"===n&&(r=/_ERROR$/i.test(e)?"#eba4a7":"#5ee9eb");var i="\n       font-weight: bold;\n       color: ".concat(r,";\n    "),o="\n      font-weight: normal;\n      text-decoration: underline;\n      color: ".concat(r,";\n    "),a="\n      font: 10px Arial;\n      padding-left: 3px;\n      color: ".concat(r,";\n    "),s="font-weight: bold;";console.groupCollapsed("%cElixirChat: ".concat(e," %cInfo%c▾"),i,o,a),"error"===n?console.error(t):!t||"object"!==u(t)||t instanceof Array?console.log("%c\nData:\n",s,t):Object.keys(t).forEach(function(e){console.log("%c".concat(e,":\n"),s,t[e],"\n")}),console.log("%c\nStacktrace:",s),console.trace(),console.groupEnd()}},n.capitalize=function(e){return e.substr(0,1).toUpperCase()+e.substr(1)},n.randomDigitStringId=function(e){return(Array(e).join("0")+Math.random()).slice(-e)},n._last=function(e){return e[e.length-1]},n._round=function(e){return+e.toFixed(2)},n._flatten=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r instanceof Array?t=t.concat(r):t.push(r)}return t},n.detectBrowser=function(){var e={Opera:"opera",Chrome:"chrome",Safari:"safari",Firefox:"firefox",MSIE:"ie"};for(var t in e)if(-1<navigator.userAgent.indexOf(t))return e[t];return null},n.detectPlatform=function(){return{isWindows:-1<navigator.platform.indexOf("Win"),isMac:-1<navigator.platform.indexOf("Mac")}},n.getJSONFromLocalStorage=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=t;try{null===(n=JSON.parse(localStorage.getItem(e)))&&(n=t)}catch(e){}return n},n.isWebImage=function(e){return["image/jpg","image/jpeg","image/png","image/gif"].includes(e.toLowerCase())},n.isVideoConvertibleIntoMp4=function(e){return["video/mp4","video/x-msvideo","video/vnd.avi","video/avi","video/msvideo","video/quicktime","video/x-ms-wmv","video/x-ms-asf","video/webm","video/x-matroska","video/x-flv","video/dvd","video/mpeg","video/x-ms-vo","video/ogg","video/mp2t","video/x-m4v"].includes(e.toLowerCase().trim())},n.trimEachRow=function(e){return e.split(/\n/).map(function(e){return e.trim()}).join("\n")}},{}],fvSB:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.insertGraphQlFragments=n.gql=n.simplifyGraphQLJSON=n.GraphQLClient=void 0;var r=function(){function r(e){var t=e.url,n=e.token;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.headers={Accept:"application/json"},this.url=t,this.token=n,this.token&&(this.headers.Authorization="Bearer ".concat(this.token))}var e,t,n;return e=r,(t=[{key:"makeFormData",value:function(e,t,n){var r=new FormData;for(var i in r.append("query",e),r.append("variables",JSON.stringify(t)),n)r.append(i,n[i]);return r}},{key:"query",value:function(e,t,n){var r,i,o=this;return r=n?(i=this.makeFormData(e,t,n),this.headers):(i=JSON.stringify({query:e,variables:t}),Object.assign(Object.assign({},this.headers),{"Content-Type":"application/json"})),new Promise(function(t,n){fetch(o.url,{method:"POST",headers:r,body:i}).then(function(e){return e.json()}).then(function(e){e.errors?n(e):e.data?t(e.data):n(e)}).catch(function(e){return n(e)})})}}])&&i(e.prototype,t),n&&i(e,n),r}();n.GraphQLClient=r,n.simplifyGraphQLJSON=function(e){return e.edges.map(function(e){return Object.assign(Object.assign({},e.node),{cursor:e.cursor})})},n.gql=function(e){for(var t="",n=0;n<e.length;n++)t+=e[n]+((n+1<1||arguments.length<=n+1?void 0:arguments[n+1])||"");return t},n.insertGraphQlFragments=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n="";for(var r in t)n+=t[r];return e+n}},{}],lqyB:[function(e,t,n){"use strict";function r(){var e=function(e,t){t=t||e.slice(0);return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  fragment fragmentUser on Account {\n    __typename\n    id\n    firstName\n    lastName\n\n    ... on Client {\n      foreignId\n    }\n  }\n"]);return r=function(){return e},e}Object.defineProperty(n,"__esModule",{value:!0}),n.serializeUser=n.fragmentUser=void 0;var i=e("../GraphQLClient");n.fragmentUser=i.gql(r()),n.serializeUser=function(e,t){var n=(null==e?void 0:e.foreignId)||null,r="Client"!==(null==e?void 0:e.__typename);return{id:(null==e?void 0:e.id)||null,firstName:(null==e?void 0:e.firstName)||"",lastName:(null==e?void 0:e.lastName)||"",isCurrentClient:n===t.client.id,isOperator:r,elixirChatId:n}}},{"../GraphQLClient":"fvSB"}],zWqG:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.IMAGE_PREVIEW_CLOSE=n.IMAGE_PREVIEW_OPEN=n.TEXTAREA_VERTICAL_RESIZE=n.REPLY_MESSAGE=n.SCREENSHOT_REQUEST_ERROR=n.SCREENSHOT_REQUEST_SUCCESS=n.WIDGET_UNMUTE=n.WIDGET_MUTE=n.WIDGET_POPUP_BLUR=n.WIDGET_POPUP_FOCUS=n.WIDGET_POPUP_TOGGLE=n.WIDGET_POPUP_CLOSE=n.WIDGET_POPUP_OPEN=n.WIDGET_RENDERED=n.WIDGET_IFRAME_READY=void 0,n.WIDGET_IFRAME_READY="WIDGET_IFRAME_READY",n.WIDGET_RENDERED="WIDGET_RENDERED",n.WIDGET_POPUP_OPEN="WIDGET_POPUP_OPEN",n.WIDGET_POPUP_CLOSE="WIDGET_POPUP_CLOSE",n.WIDGET_POPUP_TOGGLE="WIDGET_POPUP_TOGGLE",n.WIDGET_POPUP_FOCUS="WIDGET_POPUP_FOCUS",n.WIDGET_POPUP_BLUR="WIDGET_POPUP_BLUR",n.WIDGET_MUTE="WIDGET_MUTE",n.WIDGET_UNMUTE="WIDGET_UNMUTE",n.SCREENSHOT_REQUEST_SUCCESS="SCREENSHOT_REQUEST_SUCCESS",n.SCREENSHOT_REQUEST_ERROR="SCREENSHOT_REQUEST_ERROR",n.REPLY_MESSAGE="REPLY_MESSAGE",n.TEXTAREA_VERTICAL_RESIZE="TEXTAREA_VERTICAL_RESIZE",n.IMAGE_PREVIEW_OPEN="IMAGE_PREVIEW_OPEN",n.IMAGE_PREVIEW_CLOSE="IMAGE_PREVIEW_CLOSE"},{}],CLsL:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.getScreenshotCompatibilityFallback=n.ScreenshotTaker=void 0;var a=e("../utilsCommon"),s=e("../widget/ElixirChatWidgetEventTypes"),r=function(){function n(e){var o=this,t=e.elixirChat;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.mediaOptions={video:{width:screen.width*window.devicePixelRatio,height:screen.height*window.devicePixelRatio}},this.width=0,this.height=0,this.takeScreenshot=function(){var e=o.elixirChat,r=e.debug,i=e.triggerEvent;return new Promise(function(t,n){o.getMediaStream().then(function(e){o.stream=e,o.video.srcObject=o.stream,o.video.oncanplay=function(){o.setVideoCanvasSize(),setTimeout(function(){var e=o.captureVideoFrame();o.stopMediaStream(),a.logEvent(r,"Captured screenshot",e),i(s.SCREENSHOT_REQUEST_SUCCESS,e),t(e)},500)},o.video.play()}).catch(function(e){a.logEvent(r,"Could not capture screenshot",e,"error"),i(s.SCREENSHOT_REQUEST_ERROR,e),n(e)})})},this.elixirChat=t,this.initialize()}var e,t,r;return e=n,(t=[{key:"initialize",value:function(){this.width=screen.width*window.devicePixelRatio,this.canvas=document.createElement("canvas"),this.video=document.createElement("video")}},{key:"setVideoCanvasSize",value:function(){var e=this.video,t=this.canvas,n=this.width;this.height=e.videoHeight/(e.videoWidth/n),e.width=n,e.height=this.height,t.width=n,t.height=this.height}},{key:"captureVideoFrame",value:function(){var e=this.canvas,t=this.width,n=this.height,r=this.video;e.getContext("2d").drawImage(r,0,0,t,n);var i=e.toDataURL("image/png");return{dataUrl:i,file:this.base64ToFile(i)}}},{key:"stopMediaStream",value:function(){this.stream.getTracks()[0].stop()}},{key:"getMediaStream",value:function(){var n=this;return new Promise(function(e,t){try{navigator.mediaDevices.getDisplayMedia(n.mediaOptions).then(e).catch(t)}catch(e){t({message:"MediaDevices.getDisplayMedia is not supported in this browser"})}})}},{key:"base64ToFile",value:function(e){for(var t=atob(e.split(",")[1]),n=[],r=0;r<t.length;r++)n.push(t.charCodeAt(r));var i=new Blob([new Uint8Array(n)]),o="Screenshot ".concat((new Date).toLocaleString(),".png");return new File([i],o,{type:"image/png"})}}])&&i(e.prototype,t),r&&i(e,r),n}();n.ScreenshotTaker=r,n.getScreenshotCompatibilityFallback=function(){var e;try{e=navigator.mediaDevices.getDisplayMedia}catch(e){}if(e)return null;var t=a.detectPlatform();return t.isMac?{pressKey:"Cmd+Control+Shift+3"}:t.isWindows?{pressKey:"PrtSc",pressKeySecondary:"Fn+PrtSc"}:{pressKey:null}}},{"../utilsCommon":"EjGt","../widget/ElixirChatWidgetEventTypes":"zWqG"}],qf4T:[function(e,t,n){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],ss9A:[function(e,t,n){var r=t.exports={version:"2.6.0"};"number"==typeof __e&&(__e=r)},{}],M7z6:[function(e,t,n){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],eT53:[function(e,t,n){var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":"M7z6"}],BXiR:[function(e,t,n){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],P9Ib:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":"BXiR"}],vZ6E:[function(e,t,n){var r=e("./_is-object"),i=e("./_global").document,o=r(i)&&r(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{"./_is-object":"M7z6","./_global":"qf4T"}],o6Gq:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":"P9Ib","./_fails":"BXiR","./_dom-create":"vZ6E"}],y37I:[function(e,t,n){var i=e("./_is-object");t.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":"M7z6"}],nw8e:[function(e,t,n){var r=e("./_an-object"),i=e("./_ie8-dom-define"),o=e("./_to-primitive"),a=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":"eT53","./_ie8-dom-define":"o6Gq","./_to-primitive":"y37I","./_descriptors":"P9Ib"}],uJ6d:[function(e,t,n){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],NXbe:[function(e,t,n){var r=e("./_object-dp"),i=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_object-dp":"nw8e","./_property-desc":"uJ6d","./_descriptors":"P9Ib"}],uHgd:[function(e,t,n){var r={}.hasOwnProperty;t.exports=function(e,t){return r.call(e,t)}},{}],U49f:[function(e,t,n){var r=0,i=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+i).toString(36))}},{}],PHot:[function(e,t,n){var o=e("./_global"),a=e("./_hide"),s=e("./_has"),u=e("./_uid")("src"),r="toString",i=Function[r],c=(""+i).split(r);e("./_core").inspectSource=function(e){return i.call(e)},(t.exports=function(e,t,n,r){var i="function"==typeof n;i&&(s(n,"name")||a(n,"name",t)),e[t]!==n&&(i&&(s(n,u)||a(n,u,e[t]?""+e[t]:c.join(String(t)))),e===o?e[t]=n:r?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)))})(Function.prototype,r,function(){return"function"==typeof this&&this[u]||i.call(this)})},{"./_global":"qf4T","./_hide":"NXbe","./_has":"uHgd","./_uid":"U49f","./_core":"ss9A"}],kYjc:[function(e,t,n){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],E3Kh:[function(e,t,n){var o=e("./_a-function");t.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},{"./_a-function":"kYjc"}],izCb:[function(e,t,n){var v=e("./_global"),b=e("./_core"),g=e("./_hide"),y=e("./_redefine"),m=e("./_ctx"),_="prototype",S=function(e,t,n){var r,i,o,a,s=e&S.F,u=e&S.G,c=e&S.S,l=e&S.P,f=e&S.B,d=u?v:c?v[t]||(v[t]={}):(v[t]||{})[_],h=u?b:b[t]||(b[t]={}),p=h[_]||(h[_]={});for(r in u&&(n=t),n)o=((i=!s&&d&&void 0!==d[r])?d:n)[r],a=f&&i?m(o,v):l&&"function"==typeof o?m(Function.call,o):o,d&&y(d,r,o,e&S.U),h[r]!=o&&g(h,r,a),l&&p[r]!=o&&(p[r]=o)};v.core=b,S.F=1,S.G=2,S.S=4,S.P=8,S.B=16,S.W=32,S.U=64,S.R=128,t.exports=S},{"./_global":"qf4T","./_core":"ss9A","./_hide":"NXbe","./_redefine":"PHot","./_ctx":"E3Kh"}],Z5df:[function(e,t,n){var r={}.toString;t.exports=function(e){return r.call(e).slice(8,-1)}},{}],nGau:[function(e,t,n){var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./_cof":"Z5df"}],BjjL:[function(e,t,n){t.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},{}],rfVX:[function(e,t,n){var r=e("./_defined");t.exports=function(e){return Object(r(e))}},{"./_defined":"BjjL"}],yjVO:[function(e,t,n){var r=Math.ceil,i=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(0<e?i:r)(e)}},{}],dJBs:[function(e,t,n){var r=e("./_to-integer"),i=Math.min;t.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},{"./_to-integer":"yjVO"}],JTrm:[function(e,t,n){var r=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==r(e)}},{"./_cof":"Z5df"}],H21C:[function(e,t,n){t.exports=!1},{}],zGcK:[function(e,t,n){var r=e("./_core"),i=e("./_global"),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:e("./_library")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},{"./_core":"ss9A","./_global":"qf4T","./_library":"H21C"}],AIP1:[function(e,t,n){var r=e("./_shared")("wks"),i=e("./_uid"),o=e("./_global").Symbol,a="function"==typeof o;(t.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},{"./_shared":"zGcK","./_uid":"U49f","./_global":"qf4T"}],NNbH:[function(e,t,n){var r=e("./_is-object"),i=e("./_is-array"),o=e("./_wks")("species");t.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},{"./_is-object":"M7z6","./_is-array":"JTrm","./_wks":"AIP1"}],igas:[function(e,t,n){var r=e("./_array-species-constructor");t.exports=function(e,t){return new(r(e))(t)}},{"./_array-species-constructor":"NNbH"}],AuPh:[function(e,t,n){var m=e("./_ctx"),_=e("./_iobject"),S=e("./_to-object"),E=e("./_to-length"),r=e("./_array-species-create");t.exports=function(f,e){var d=1==f,h=2==f,p=3==f,v=4==f,b=6==f,g=5==f||b,y=e||r;return function(e,t,n){for(var r,i,o=S(e),a=_(o),s=m(t,n,3),u=E(a.length),c=0,l=d?y(e,u):h?y(e,0):void 0;c<u;c++)if((g||c in a)&&(i=s(r=a[c],c,o),f))if(d)l[c]=i;else if(i)switch(f){case 3:return!0;case 5:return r;case 6:return c;case 2:l.push(r)}else if(v)return!1;return b?-1:p||v?v:l}}},{"./_ctx":"E3Kh","./_iobject":"nGau","./_to-object":"rfVX","./_to-length":"dJBs","./_array-species-create":"igas"}],Z7eD:[function(e,t,n){var r=e("./_wks")("unscopables"),i=Array.prototype;null==i[r]&&e("./_hide")(i,r,{}),t.exports=function(e){i[r][e]=!0}},{"./_wks":"AIP1","./_hide":"NXbe"}],sVmK:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-methods")(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(e,t){return i(this,e,1<arguments.length?t:void 0)}}),e("./_add-to-unscopables")(o)},{"./_export":"izCb","./_array-methods":"AuPh","./_add-to-unscopables":"Z7eD"}],Qppk:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-methods")(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{find:function(e,t){return i(this,e,1<arguments.length?t:void 0)}}),e("./_add-to-unscopables")(o)},{"./_export":"izCb","./_array-methods":"AuPh","./_add-to-unscopables":"Z7eD"}],N3yi:[function(e,t,n){var r=e("./_object-dp").f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||e("./_descriptors")&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},{"./_object-dp":"nw8e","./_descriptors":"P9Ib"}],EIvU:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}},{}],o7wy:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.flip=function(n){return function(e,t){return n(t,e)}},n.constant=function(e){return function(){return e}},n.on=function(n,r){return function(e,t){return n(r(e),r(t))}},n.compose=function(){for(var r=this,e=arguments.length,i=Array(e),t=0;t<e;t++)i[t]=arguments[t];var o=i.length-1;return function(e){for(var t=e,n=o;-1<n;n--)t=i[n].call(r,t);return t}},n.pipe=function(){for(var r=this,e=arguments.length,i=Array(e),t=0;t<e;t++)i[t]=arguments[t];var o=i.length-1;return function(e){for(var t=e,n=0;n<=o;n++)t=i[n].call(r,t);return t}},n.curry=function(e){return function t(n,r,i){return function(){var e=i.concat(Array.prototype.slice.call(arguments));return e.length>=r?n.apply(this,e):t(n,r,e)}}(e,e.length,[])}},{}],lytE:[function(e,t,n){var u=e("./_to-integer"),c=e("./_defined");t.exports=function(s){return function(e,t){var n,r,i=String(c(e)),o=u(t),a=i.length;return o<0||a<=o?s?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?s?i.charAt(o):n:s?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}},{"./_to-integer":"yjVO","./_defined":"BjjL"}],kq3x:[function(e,t,n){t.exports=!0},{}],zRh1:[function(e,t,n){var o=e("./_a-function");t.exports=function(r,i,e){if(o(r),void 0===i)return r;switch(e){case 1:return function(e){return r.call(i,e)};case 2:return function(e,t){return r.call(i,e,t)};case 3:return function(e,t,n){return r.call(i,e,t,n)}}return function(){return r.apply(i,arguments)}}},{"./_a-function":"kYjc"}],zotD:[function(e,t,n){var r=e("./_is-object");t.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":"M7z6"}],MLNE:[function(e,t,n){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":"BXiR"}],kxqa:[function(e,t,n){var r=e("./_is-object"),i=e("./_global").document,o=r(i)&&r(i.createElement);t.exports=function(e){return o?i.createElement(e):{}}},{"./_is-object":"M7z6","./_global":"qf4T"}],R6c1:[function(e,t,n){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":"MLNE","./_fails":"BXiR","./_dom-create":"kxqa"}],EKwp:[function(e,t,n){var i=e("./_is-object");t.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":"M7z6"}],Gfzd:[function(e,t,n){var r=e("./_an-object"),i=e("./_ie8-dom-define"),o=e("./_to-primitive"),a=Object.defineProperty;n.f=e("./_descriptors")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},{"./_an-object":"zotD","./_ie8-dom-define":"R6c1","./_to-primitive":"EKwp","./_descriptors":"MLNE"}],akPY:[function(e,t,n){var r=e("./_object-dp"),i=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},{"./_object-dp":"Gfzd","./_property-desc":"uJ6d","./_descriptors":"MLNE"}],vSO4:[function(e,t,n){var v=e("./_global"),b=e("./_core"),g=e("./_ctx"),y=e("./_hide"),m=e("./_has"),_="prototype",S=function(e,t,n){var r,i,o,a=e&S.F,s=e&S.G,u=e&S.S,c=e&S.P,l=e&S.B,f=e&S.W,d=s?b:b[t]||(b[t]={}),h=d[_],p=s?v:u?v[t]:(v[t]||{})[_];for(r in s&&(n=t),n)(i=!a&&p&&void 0!==p[r])&&m(d,r)||(o=i?p[r]:n[r],d[r]=s&&"function"!=typeof p[r]?n[r]:l&&i?g(o,v):f&&p[r]==o?function(r){function e(e,t,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(e);case 2:return new r(e,t)}return new r(e,t,n)}return r.apply(this,arguments)}return e[_]=r[_],e}(o):c&&"function"==typeof o?g(Function.call,o):o,c&&((d.virtual||(d.virtual={}))[r]=o,e&S.R&&h&&!h[r]&&y(h,r,o)))};S.F=1,S.G=2,S.S=4,S.P=8,S.B=16,S.W=32,S.U=64,S.R=128,t.exports=S},{"./_global":"qf4T","./_core":"ss9A","./_ctx":"zRh1","./_hide":"akPY","./_has":"uHgd"}],gojl:[function(e,t,n){t.exports=e("./_hide")},{"./_hide":"akPY"}],dhak:[function(e,t,n){t.exports={}},{}],E5Ce:[function(e,t,n){var r=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},{"./_cof":"Z5df"}],Wyka:[function(e,t,n){var r=e("./_iobject"),i=e("./_defined");t.exports=function(e){return r(i(e))}},{"./_iobject":"E5Ce","./_defined":"BjjL"}],S7IM:[function(e,t,n){var r=e("./_to-integer"),i=Math.min;t.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},{"./_to-integer":"yjVO"}],Zwq5:[function(e,t,n){var r=e("./_to-integer"),i=Math.max,o=Math.min;t.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},{"./_to-integer":"yjVO"}],LNnS:[function(e,t,n){var u=e("./_to-iobject"),c=e("./_to-length"),l=e("./_to-absolute-index");t.exports=function(s){return function(e,t,n){var r,i=u(e),o=c(i.length),a=l(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}}},{"./_to-iobject":"Wyka","./_to-length":"S7IM","./_to-absolute-index":"Zwq5"}],NB7d:[function(e,t,n){var r=e("./_core"),i=e("./_global"),o="__core-js_shared__",a=i[o]||(i[o]={});(t.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:e("./_library")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},{"./_core":"ss9A","./_global":"qf4T","./_library":"kq3x"}],wuYm:[function(e,t,n){var r=e("./_shared")("keys"),i=e("./_uid");t.exports=function(e){return r[e]||(r[e]=i(e))}},{"./_shared":"NB7d","./_uid":"U49f"}],B9Lq:[function(e,t,n){var a=e("./_has"),s=e("./_to-iobject"),u=e("./_array-includes")(!1),c=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n,r=s(e),i=0,o=[];for(n in r)n!=c&&a(r,n)&&o.push(n);for(;t.length>i;)a(r,n=t[i++])&&(~u(o,n)||o.push(n));return o}},{"./_has":"uHgd","./_to-iobject":"Wyka","./_array-includes":"LNnS","./_shared-key":"wuYm"}],KxjL:[function(e,t,n){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],knrM:[function(e,t,n){var r=e("./_object-keys-internal"),i=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return r(e,i)}},{"./_object-keys-internal":"B9Lq","./_enum-bug-keys":"KxjL"}],gjjs:[function(e,t,n){var a=e("./_object-dp"),s=e("./_an-object"),u=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){s(e);for(var n,r=u(t),i=r.length,o=0;o<i;)a.f(e,n=r[o++],t[n]);return e}},{"./_object-dp":"Gfzd","./_an-object":"zotD","./_object-keys":"knrM","./_descriptors":"MLNE"}],ebIA:[function(e,t,n){var r=e("./_global").document;t.exports=r&&r.documentElement},{"./_global":"qf4T"}],TNJq:[function(r,e,t){function i(){}var o=r("./_an-object"),a=r("./_object-dps"),s=r("./_enum-bug-keys"),u=r("./_shared-key")("IE_PROTO"),c="prototype",l=function(){var e,t=r("./_dom-create")("iframe"),n=s.length;for(t.style.display="none",r("./_html").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l[c][s[n]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(i[c]=o(e),n=new i,i[c]=null,n[u]=e):n=l(),void 0===t?n:a(n,t)}},{"./_an-object":"zotD","./_object-dps":"gjjs","./_enum-bug-keys":"KxjL","./_shared-key":"wuYm","./_dom-create":"kxqa","./_html":"ebIA"}],Ug9I:[function(e,t,n){var r=e("./_shared")("wks"),i=e("./_uid"),o=e("./_global").Symbol,a="function"==typeof o;(t.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},{"./_shared":"NB7d","./_uid":"U49f","./_global":"qf4T"}],UtKM:[function(e,t,n){var r=e("./_object-dp").f,i=e("./_has"),o=e("./_wks")("toStringTag");t.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},{"./_object-dp":"Gfzd","./_has":"uHgd","./_wks":"Ug9I"}],b7Q2:[function(e,t,n){"use strict";var r=e("./_object-create"),i=e("./_property-desc"),o=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},{"./_object-create":"TNJq","./_property-desc":"uJ6d","./_set-to-string-tag":"UtKM","./_hide":"akPY","./_wks":"Ug9I"}],mbLO:[function(e,t,n){var r=e("./_defined");t.exports=function(e){return Object(r(e))}},{"./_defined":"BjjL"}],HHE0:[function(e,t,n){var r=e("./_has"),i=e("./_to-object"),o=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"./_has":"uHgd","./_to-object":"mbLO","./_shared-key":"wuYm"}],uRfg:[function(e,t,n){"use strict";function m(){return this}var _=e("./_library"),S=e("./_export"),E=e("./_redefine"),j=e("./_hide"),k=e("./_iterators"),C=e("./_iter-create"),O=e("./_set-to-string-tag"),w=e("./_object-gpo"),x=e("./_wks")("iterator"),T=!([].keys&&"next"in[].keys()),R="values";t.exports=function(e,t,n,r,i,o,a){C(n,t,r);function s(e){if(!T&&e in p)return p[e];switch(e){case"keys":case R:return function(){return new n(this,e)}}return function(){return new n(this,e)}}var u,c,l,f=t+" Iterator",d=i==R,h=!1,p=e.prototype,v=p[x]||p["@@iterator"]||i&&p[i],b=v||s(i),g=i?d?s("entries"):b:void 0,y="Array"==t&&p.entries||v;if(y&&(l=w(y.call(new e)))!==Object.prototype&&l.next&&(O(l,f,!0),_||"function"==typeof l[x]||j(l,x,m)),d&&v&&v.name!==R&&(h=!0,b=function(){return v.call(this)}),_&&!a||!T&&!h&&p[x]||j(p,x,b),k[t]=b,k[f]=m,i)if(u={values:d?b:s(R),keys:o?b:s("keys"),entries:g},a)for(c in u)c in p||E(p,c,u[c]);else S(S.P+S.F*(T||h),t,u);return u}},{"./_library":"kq3x","./_export":"vSO4","./_redefine":"gojl","./_hide":"akPY","./_iterators":"dhak","./_iter-create":"b7Q2","./_set-to-string-tag":"UtKM","./_object-gpo":"HHE0","./_wks":"Ug9I"}],iUHQ:[function(e,t,n){"use strict";var r=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},{"./_string-at":"lytE","./_iter-define":"uRfg"}],ID6i:[function(e,t,n){t.exports=function(){}},{}],xwDU:[function(e,t,n){t.exports=function(e,t){return{value:t,done:!!e}}},{}],OYXR:[function(e,t,n){"use strict";var r=e("./_add-to-unscopables"),i=e("./_iter-step"),o=e("./_iterators"),a=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":"ID6i","./_iter-step":"xwDU","./_iterators":"dhak","./_to-iobject":"Wyka","./_iter-define":"uRfg"}],COf8:[function(e,t,n){e("./es6.array.iterator");for(var r=e("./_global"),i=e("./_hide"),o=e("./_iterators"),a=e("./_wks")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&i(f,a,c),o[c]=o.Array}},{"./es6.array.iterator":"OYXR","./_global":"qf4T","./_hide":"akPY","./_iterators":"dhak","./_wks":"Ug9I"}],ZxII:[function(e,t,n){n.f=e("./_wks")},{"./_wks":"Ug9I"}],nFDa:[function(e,t,n){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),t.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/es6.string.iterator":"iUHQ","../../modules/web.dom.iterable":"COf8","../../modules/_wks-ext":"ZxII"}],t7tQ:[function(e,t,n){t.exports={default:e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":"nFDa"}],e8vu:[function(e,t,n){function r(e){s(e,i,{value:{i:"O"+ ++u,w:{}}})}var i=e("./_uid")("meta"),o=e("./_is-object"),a=e("./_has"),s=e("./_object-dp").f,u=0,c=Object.isExtensible||function(){return!0},l=!e("./_fails")(function(){return c(Object.preventExtensions({}))}),f=t.exports={KEY:i,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,i)){if(!c(e))return"F";if(!t)return"E";r(e)}return e[i].i},getWeak:function(e,t){if(!a(e,i)){if(!c(e))return!0;if(!t)return!1;r(e)}return e[i].w},onFreeze:function(e){return l&&f.NEED&&c(e)&&!a(e,i)&&r(e),e}}},{"./_uid":"U49f","./_is-object":"M7z6","./_has":"uHgd","./_object-dp":"Gfzd","./_fails":"BXiR"}],c2zY:[function(e,t,n){var r=e("./_global"),i=e("./_core"),o=e("./_library"),a=e("./_wks-ext"),s=e("./_object-dp").f;t.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},{"./_global":"qf4T","./_core":"ss9A","./_library":"kq3x","./_wks-ext":"ZxII","./_object-dp":"Gfzd"}],Ocr3:[function(e,t,n){n.f=Object.getOwnPropertySymbols},{}],z7R8:[function(e,t,n){n.f={}.propertyIsEnumerable},{}],ycyv:[function(e,t,n){var s=e("./_object-keys"),u=e("./_object-gops"),c=e("./_object-pie");t.exports=function(e){var t=s(e),n=u.f;if(n)for(var r,i=n(e),o=c.f,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t}},{"./_object-keys":"knrM","./_object-gops":"Ocr3","./_object-pie":"z7R8"}],ayXv:[function(e,t,n){var r=e("./_cof");t.exports=Array.isArray||function(e){return"Array"==r(e)}},{"./_cof":"Z5df"}],Ni5N:[function(e,t,n){var r=e("./_object-keys-internal"),i=e("./_enum-bug-keys").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},{"./_object-keys-internal":"B9Lq","./_enum-bug-keys":"KxjL"}],rMkZ:[function(e,t,n){var r=e("./_to-iobject"),i=e("./_object-gopn").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},{"./_to-iobject":"Wyka","./_object-gopn":"Ni5N"}],sxPs:[function(e,t,n){var r=e("./_object-pie"),i=e("./_property-desc"),o=e("./_to-iobject"),a=e("./_to-primitive"),s=e("./_has"),u=e("./_ie8-dom-define"),c=Object.getOwnPropertyDescriptor;n.f=e("./_descriptors")?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},{"./_object-pie":"z7R8","./_property-desc":"uJ6d","./_to-iobject":"Wyka","./_to-primitive":"EKwp","./_has":"uHgd","./_ie8-dom-define":"R6c1","./_descriptors":"MLNE"}],Aa2f:[function(e,t,n){"use strict";function r(e){var t=Q[e]=T(G[q]);return t._k=e,t}function i(e,t){k(e);for(var n,r=E(t=O(t)),i=0,o=r.length;i<o;)$(e,n=r[i++],t[n]);return e}function o(e){var t=z.call(this,e=w(e,!0));return!(this===W&&l(Q,e)&&!l(Y,e))&&(!(t||!l(this,e)||!l(Q,e)||l(this,D)&&this[D][e])||t)}function a(e,t){if(e=O(e),t=w(t,!0),e!==W||!l(Q,t)||l(Y,t)){var n=P(e,t);return!n||!l(Q,t)||l(e,D)&&e[D][t]||(n.enumerable=!0),n}}function s(e){for(var t,n=N(O(e)),r=[],i=0;n.length>i;)l(Q,t=n[i++])||t==D||t==p||r.push(t);return r}function u(e){for(var t,n=e===W,r=N(n?Y:O(e)),i=[],o=0;r.length>o;)!l(Q,t=r[o++])||n&&!l(W,t)||i.push(Q[t]);return i}var c=e("./_global"),l=e("./_has"),f=e("./_descriptors"),d=e("./_export"),h=e("./_redefine"),p=e("./_meta").KEY,v=e("./_fails"),b=e("./_shared"),g=e("./_set-to-string-tag"),y=e("./_uid"),m=e("./_wks"),_=e("./_wks-ext"),S=e("./_wks-define"),E=e("./_enum-keys"),j=e("./_is-array"),k=e("./_an-object"),C=e("./_is-object"),O=e("./_to-iobject"),w=e("./_to-primitive"),x=e("./_property-desc"),T=e("./_object-create"),R=e("./_object-gopn-ext"),A=e("./_object-gopd"),M=e("./_object-dp"),I=e("./_object-keys"),P=A.f,U=M.f,N=R.f,G=c.Symbol,L=c.JSON,H=L&&L.stringify,q="prototype",D=m("_hidden"),B=m("toPrimitive"),z={}.propertyIsEnumerable,F=b("symbol-registry"),Q=b("symbols"),Y=b("op-symbols"),W=Object[q],J="function"==typeof G,V=c.QObject,K=!V||!V[q]||!V[q].findChild,Z=f&&v(function(){return 7!=T(U({},"a",{get:function(){return U(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=P(W,t);r&&delete W[t],U(e,t,n),r&&e!==W&&U(W,t,r)}:U,X=J&&"symbol"==typeof G.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof G},$=function(e,t,n){return e===W&&$(Y,t,n),k(e),t=w(t,!0),k(n),l(Q,t)?(n.enumerable?(l(e,D)&&e[D][t]&&(e[D][t]=!1),n=T(n,{enumerable:x(0,!1)})):(l(e,D)||U(e,D,x(1,{})),e[D][t]=!0),Z(e,t,n)):U(e,t,n)};J||(h((G=function(e){if(this instanceof G)throw TypeError("Symbol is not a constructor!");var t=y(0<arguments.length?e:void 0),n=function(e){this===W&&n.call(Y,e),l(this,D)&&l(this[D],t)&&(this[D][t]=!1),Z(this,t,x(1,e))};return f&&K&&Z(W,t,{configurable:!0,set:n}),r(t)})[q],"toString",function(){return this._k}),A.f=a,M.f=$,e("./_object-gopn").f=R.f=s,e("./_object-pie").f=o,e("./_object-gops").f=u,f&&!e("./_library")&&h(W,"propertyIsEnumerable",o,!0),_.f=function(e){return r(m(e))}),d(d.G+d.W+d.F*!J,{Symbol:G});for(var ee="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ee.length>te;)m(ee[te++]);for(var ne=I(m.store),re=0;ne.length>re;)S(ne[re++]);d(d.S+d.F*!J,"Symbol",{for:function(e){return l(F,e+="")?F[e]:F[e]=G(e)},keyFor:function(e){if(!X(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){K=!0},useSimple:function(){K=!1}}),d(d.S+d.F*!J,"Object",{create:function(e,t){return void 0===t?T(e):i(T(e),t)},defineProperty:$,defineProperties:i,getOwnPropertyDescriptor:a,getOwnPropertyNames:s,getOwnPropertySymbols:u}),L&&d(d.S+d.F*(!J||v(function(){var e=G();return"[null]"!=H([e])||"{}"!=H({a:e})||"{}"!=H(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;i<arguments.length;)r.push(arguments[i++]);if(n=t=r[1],(C(t)||void 0!==e)&&!X(e))return j(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!X(t))return t}),r[1]=t,H.apply(L,r)}}),G[q][B]||e("./_hide")(G[q],B,G[q].valueOf),g(G,"Symbol"),g(Math,"Math",!0),g(c.JSON,"JSON",!0)},{"./_global":"qf4T","./_has":"uHgd","./_descriptors":"MLNE","./_export":"vSO4","./_redefine":"gojl","./_meta":"e8vu","./_fails":"BXiR","./_shared":"NB7d","./_set-to-string-tag":"UtKM","./_uid":"U49f","./_wks":"Ug9I","./_wks-ext":"ZxII","./_wks-define":"c2zY","./_enum-keys":"ycyv","./_is-array":"ayXv","./_an-object":"zotD","./_is-object":"M7z6","./_to-iobject":"Wyka","./_to-primitive":"EKwp","./_property-desc":"uJ6d","./_object-create":"TNJq","./_object-gopn-ext":"rMkZ","./_object-gopd":"sxPs","./_object-dp":"Gfzd","./_object-keys":"knrM","./_object-gopn":"Ni5N","./_object-pie":"z7R8","./_object-gops":"Ocr3","./_library":"kq3x","./_hide":"akPY"}],tuDi:[function(e,t,n){},{}],c6mp:[function(e,t,n){e("./_wks-define")("asyncIterator")},{"./_wks-define":"c2zY"}],mwfR:[function(e,t,n){e("./_wks-define")("observable")},{"./_wks-define":"c2zY"}],Ky5l:[function(e,t,n){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),t.exports=e("../../modules/_core").Symbol},{"../../modules/es6.symbol":"Aa2f","../../modules/es6.object.to-string":"tuDi","../../modules/es7.symbol.async-iterator":"c6mp","../../modules/es7.symbol.observable":"mwfR","../../modules/_core":"ss9A"}],ibPW:[function(e,t,n){t.exports={default:e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":"Ky5l"}],GyBZ:[function(e,t,n){"use strict";n.__esModule=!0;var r=a(e("../core-js/symbol/iterator")),i=a(e("../core-js/symbol")),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}n.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},{"../core-js/symbol/iterator":"t7tQ","../core-js/symbol":"ibPW"}],hEIm:[function(e,t,n){var o=e("./_an-object");t.exports=function(t,e,n,r){try{return r?e(o(n)[0],n[1]):e(n)}catch(e){var i=t.return;throw void 0!==i&&o(i.call(t)),e}}},{"./_an-object":"zotD"}],af0K:[function(e,t,n){var r=e("./_iterators"),i=e("./_wks")("iterator"),o=Array.prototype;t.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},{"./_iterators":"dhak","./_wks":"Ug9I"}],vUQk:[function(e,t,n){"use strict";var r=e("./_object-dp"),i=e("./_property-desc");t.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},{"./_object-dp":"Gfzd","./_property-desc":"uJ6d"}],ZHvQ:[function(e,t,n){var i=e("./_cof"),o=e("./_wks")("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},{"./_cof":"Z5df","./_wks":"Ug9I"}],AqTK:[function(e,t,n){var r=e("./_classof"),i=e("./_wks")("iterator"),o=e("./_iterators");t.exports=e("./_core").getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[r(e)]}},{"./_classof":"ZHvQ","./_wks":"Ug9I","./_iterators":"dhak","./_core":"ss9A"}],Lli7:[function(e,t,n){var o=e("./_wks")("iterator"),a=!1;try{var r=[7][o]();r.return=function(){a=!0},Array.from(r,function(){throw 2})}catch(e){}t.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var r=[7],i=r[o]();i.next=function(){return{done:n=!0}},r[o]=function(){return i},e(r)}catch(e){}return n}},{"./_wks":"Ug9I"}],N484:[function(e,t,n){"use strict";var p=e("./_ctx"),r=e("./_export"),v=e("./_to-object"),b=e("./_iter-call"),g=e("./_is-array-iter"),y=e("./_to-length"),m=e("./_create-property"),_=e("./core.get-iterator-method");r(r.S+r.F*!e("./_iter-detect")(function(e){Array.from(e)}),"Array",{from:function(e,t,n){var r,i,o,a,s=v(e),u="function"==typeof this?this:Array,c=arguments.length,l=1<c?t:void 0,f=void 0!==l,d=0,h=_(s);if(f&&(l=p(l,2<c?n:void 0,2)),null==h||u==Array&&g(h))for(i=new u(r=y(s.length));d<r;d++)m(i,d,f?l(s[d],d):s[d]);else for(a=h.call(s),i=new u;!(o=a.next()).done;d++)m(i,d,f?b(a,l,[o.value,d],!0):o.value);return i.length=d,i}})},{"./_ctx":"zRh1","./_export":"vSO4","./_to-object":"mbLO","./_iter-call":"hEIm","./_is-array-iter":"af0K","./_to-length":"S7IM","./_create-property":"vUQk","./core.get-iterator-method":"AqTK","./_iter-detect":"Lli7"}],O35A:[function(e,t,n){e("../../modules/es6.string.iterator"),e("../../modules/es6.array.from"),t.exports=e("../../modules/_core").Array.from},{"../../modules/es6.string.iterator":"iUHQ","../../modules/es6.array.from":"N484","../../modules/_core":"ss9A"}],VuZO:[function(e,t,n){t.exports={default:e("core-js/library/fn/array/from"),__esModule:!0}},{"core-js/library/fn/array/from":"O35A"}],mYpx:[function(e,t,n){"use strict";n.__esModule=!0;var r,i=e("../core-js/array/from"),o=(r=i)&&r.__esModule?r:{default:r};n.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,o.default)(e)}},{"../core-js/array/from":"VuZO"}],uj5A:[function(e,t,n){"use strict";var d=e("./_object-keys"),h=e("./_object-gops"),p=e("./_object-pie"),v=e("./_to-object"),b=e("./_iobject"),i=Object.assign;t.exports=!i||e("./_fails")(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=i({},e)[n]||Object.keys(i({},t)).join("")!=r})?function(e,t){for(var n=v(e),r=arguments.length,i=1,o=h.f,a=p.f;i<r;)for(var s,u=b(arguments[i++]),c=o?d(u).concat(o(u)):d(u),l=c.length,f=0;f<l;)a.call(u,s=c[f++])&&(n[s]=u[s]);return n}:i},{"./_object-keys":"knrM","./_object-gops":"Ocr3","./_object-pie":"z7R8","./_to-object":"mbLO","./_iobject":"E5Ce","./_fails":"BXiR"}],YD0x:[function(e,t,n){var r=e("./_export");r(r.S+r.F,"Object",{assign:e("./_object-assign")})},{"./_export":"vSO4","./_object-assign":"uj5A"}],vcHl:[function(e,t,n){e("../../modules/es6.object.assign"),t.exports=e("../../modules/_core").Object.assign},{"../../modules/es6.object.assign":"YD0x","../../modules/_core":"ss9A"}],gc0D:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/assign"),__esModule:!0}},{"core-js/library/fn/object/assign":"vcHl"}],T4f3:[function(e,t,n){"use strict";n.__esModule=!0;var r,i=e("../core-js/object/assign"),o=(r=i)&&r.__esModule?r:{default:r};n.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},{"../core-js/object/assign":"gc0D"}],cOHw:[function(e,t,n){var i=e("./_export"),o=e("./_core"),a=e("./_fails");t.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],r={};r[e]=t(n),i(i.S+i.F*a(function(){n(1)}),"Object",r)}},{"./_export":"vSO4","./_core":"ss9A","./_fails":"BXiR"}],PDcB:[function(e,t,n){var r=e("./_to-object"),i=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return i(r(e))}})},{"./_to-object":"mbLO","./_object-keys":"knrM","./_object-sap":"cOHw"}],eOjq:[function(e,t,n){e("../../modules/es6.object.keys"),t.exports=e("../../modules/_core").Object.keys},{"../../modules/es6.object.keys":"PDcB","../../modules/_core":"ss9A"}],FtNa:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/keys"),__esModule:!0}},{"core-js/library/fn/object/keys":"eOjq"}],Kpws:[function(e,t,n){var r=e("./_is-object"),i=Math.floor;t.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},{"./_is-object":"M7z6"}],oDsm:[function(e,t,n){var r=e("./_export");r(r.S,"Number",{isInteger:e("./_is-integer")})},{"./_export":"vSO4","./_is-integer":"Kpws"}],hCBp:[function(e,t,n){e("../../modules/es6.number.is-integer"),t.exports=e("../../modules/_core").Number.isInteger},{"../../modules/es6.number.is-integer":"oDsm","../../modules/_core":"ss9A"}],OPHC:[function(e,t,n){t.exports={default:e("core-js/library/fn/number/is-integer"),__esModule:!0}},{"core-js/library/fn/number/is-integer":"hCBp"}],zCAL:[function(e,t,n){"use strict";n.__esModule=!0,n.default=function(e,t){var n={};for(var r in e)0<=t.indexOf(r)||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},{}],YuTU:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.resolveIndex=n.replace=n.repeat=n.remove=n.reduceWhile=n.reduceIf=n.prepend=n.isPossibleFromObject=n.isLastIndex=n.isKey=n.insert=n.fromObject=n.cycleNext=n.convertIfNot=n.append=void 0;var r=f(e("babel-runtime/helpers/toConsumableArray")),a=f(e("babel-runtime/helpers/newArrowCheck")),i=e("flow-static-land/lib/Fun"),o=f(e("babel-runtime/helpers/extends")),s=f(e("babel-runtime/core-js/array/from")),u=f(e("babel-runtime/core-js/object/keys")),c=f(e("babel-runtime/core-js/number/is-integer")),l=f(e("babel-runtime/helpers/objectWithoutProperties"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e,t){return(0,a.default)(this,void 0),[].concat((0,r.default)(t),(0,r.default)(e))}.bind(void 0),h=(0,i.curry)(d);n.append=h;var p=function(e){return(0,a.default)(this,void 0),Array.isArray(e)?e:[e]}.bind(void 0);n.convertIfNot=p;var v=function(e,t){return(0,a.default)(this,void 0),t===e.length-1}.bind(void 0),b=(0,i.curry)(v);n.isLastIndex=b;var g=function(e,t){return(0,a.default)(this,void 0),b(e,t)?0:t+1}.bind(void 0),y=(0,i.curry)(g);n.cycleNext=y;var m=function(e){return(0,a.default)(this,void 0),Math.max.apply(Math,(0,r.default)((0,u.default)(e)))+1}.bind(void 0),_=function(e){return(0,a.default)(this,void 0),(0,s.default)("length"in e?e:(0,o.default)({},e,{length:m(e)}))}.bind(void 0);n.fromObject=_;var S=function(e,t,n){return(0,a.default)(this,void 0),[].concat((0,r.default)(n.slice(0,e)),(0,r.default)(t),(0,r.default)(n.slice(e+1)))}.bind(void 0),E=(0,i.curry)(S);n.insert=E;var j=function(e,t){return(0,a.default)(this,void 0),(0,c.default)(e)&&t<=e}.bind(void 0),k=function(e){return(0,a.default)(this,void 0),j(Number(e),0)}.bind(void 0);n.isKey=k;var C=function(e){e.length;var t=(0,l.default)(e,["length"]);return(0,a.default)(this,void 0),(0,u.default)(t).every(k)}.bind(void 0);n.isPossibleFromObject=C;var O=function(e,t){return(0,a.default)(this,void 0),[].concat((0,r.default)(e),(0,r.default)(t))}.bind(void 0),w=(0,i.curry)(O);n.prepend=w;var x=function(r,i,e,t){return(0,a.default)(this,void 0),t.reduce(function(e,t,n){return(0,a.default)(this,void 0),r(t,n,e)?i(e,t,n):e}.bind(this),e)}.bind(void 0),T=(0,i.curry)(x);n.reduceIf=T;var R=function(r,i,e,t){(0,a.default)(this,void 0);var o=e;return t.every(function(e,t){(0,a.default)(this,void 0);var n=r(e,t,o);return n&&(o=i(o,e,t)),n}.bind(this)),o}.bind(void 0),A=(0,i.curry)(R);n.reduceWhile=A;var M=function(e,t,n){return(0,a.default)(this,void 0),[].concat((0,r.default)(n.slice(0,e)),(0,r.default)(n.slice(e+t)))}.bind(void 0),I=(0,i.curry)(M);n.remove=I;var P=function(e,t){return(0,a.default)(this,void 0),[].concat((0,r.default)(Array(e))).map(function(){return(0,a.default)(this,void 0),t}.bind(this))}.bind(void 0),U=(0,i.curry)(P);n.repeat=U;var N=function(e,t,n){return(0,a.default)(this,void 0),[].concat((0,r.default)(n.slice(0,e)),(0,r.default)(t),(0,r.default)(n.slice(e+t.length)))}.bind(void 0),G=(0,i.curry)(N);n.replace=G;var L=function(e,t){return(0,a.default)(this,void 0),t<0?e.length-t:t}.bind(void 0),H=(0,i.curry)(L);n.resolveIndex=H},{"babel-runtime/helpers/toConsumableArray":"mYpx","babel-runtime/helpers/newArrowCheck":"EIvU","flow-static-land/lib/Fun":"o7wy","babel-runtime/helpers/extends":"T4f3","babel-runtime/core-js/array/from":"VuZO","babel-runtime/core-js/object/keys":"FtNa","babel-runtime/core-js/number/is-integer":"OPHC","babel-runtime/helpers/objectWithoutProperties":"zCAL"}],jIGR:[function(e,t,n){"use strict";t.exports=function e(t,n){if(t===n)return!0;var r,i=Array.isArray(t),o=Array.isArray(n);if(i&&o){if(t.length!=n.length)return!1;for(r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if(i!=o)return!1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var a=Object.keys(t);if(a.length!==Object.keys(n).length)return!1;var s=t instanceof Date,u=n instanceof Date;if(s&&u)return t.getTime()==n.getTime();if(s!=u)return!1;var c=t instanceof RegExp,l=n instanceof RegExp;if(c&&l)return t.toString()==n.toString();if(c!=l)return!1;for(r=0;r<a.length;r++)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=0;r<a.length;r++)if(!e(t[a[r]],n[a[r]]))return!1;return!0}return!1}},{}],htFH:[function(e,t,n){var r=e("./_export");r(r.S+r.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_export":"vSO4","./_descriptors":"MLNE","./_object-dp":"Gfzd"}],v7pm:[function(e,t,n){e("../../modules/es6.object.define-property");var r=e("../../modules/_core").Object;t.exports=function(e,t,n){return r.defineProperty(e,t,n)}},{"../../modules/es6.object.define-property":"htFH","../../modules/_core":"ss9A"}],FFZn:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":"v7pm"}],Xos8:[function(e,t,n){"use strict";n.__esModule=!0;var r,i=e("../core-js/object/define-property"),o=(r=i)&&r.__esModule?r:{default:r};n.default=function(e,t,n){return t in e?(0,o.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},{"../core-js/object/define-property":"FFZn"}],By4a:[function(e,t,n){var r=e("./_classof"),i=e("./_wks")("iterator"),o=e("./_iterators");t.exports=e("./_core").isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},{"./_classof":"ZHvQ","./_wks":"Ug9I","./_iterators":"dhak","./_core":"ss9A"}],TEgB:[function(e,t,n){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.is-iterable")},{"../modules/web.dom.iterable":"COf8","../modules/es6.string.iterator":"iUHQ","../modules/core.is-iterable":"By4a"}],gkZy:[function(e,t,n){t.exports={default:e("core-js/library/fn/is-iterable"),__esModule:!0}},{"core-js/library/fn/is-iterable":"TEgB"}],ugM7:[function(e,t,n){var r=e("./_an-object"),i=e("./core.get-iterator-method");t.exports=e("./_core").getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},{"./_an-object":"zotD","./core.get-iterator-method":"AqTK","./_core":"ss9A"}],Lvd3:[function(e,t,n){e("../modules/web.dom.iterable"),e("../modules/es6.string.iterator"),t.exports=e("../modules/core.get-iterator")},{"../modules/web.dom.iterable":"COf8","../modules/es6.string.iterator":"iUHQ","../modules/core.get-iterator":"ugM7"}],X9RM:[function(e,t,n){t.exports={default:e("core-js/library/fn/get-iterator"),__esModule:!0}},{"core-js/library/fn/get-iterator":"Lvd3"}],m8OI:[function(e,t,n){"use strict";n.__esModule=!0;var r=i(e("../core-js/is-iterable")),u=i(e("../core-js/get-iterator"));function i(e){return e&&e.__esModule?e:{default:e}}n.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=(0,u.default)(e);!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},{"../core-js/is-iterable":"gkZy","../core-js/get-iterator":"X9RM"}],dAR4:[function(e,t,n){var u=e("./_object-keys"),c=e("./_to-iobject"),l=e("./_object-pie").f;t.exports=function(s){return function(e){for(var t,n=c(e),r=u(n),i=r.length,o=0,a=[];o<i;)l.call(n,t=r[o++])&&a.push(s?[t,n[t]]:n[t]);return a}}},{"./_object-keys":"knrM","./_to-iobject":"Wyka","./_object-pie":"z7R8"}],Omhj:[function(e,t,n){var r=e("./_export"),i=e("./_object-to-array")(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},{"./_export":"vSO4","./_object-to-array":"dAR4"}],lQ0T:[function(e,t,n){e("../../modules/es7.object.entries"),t.exports=e("../../modules/_core").Object.entries},{"../../modules/es7.object.entries":"Omhj","../../modules/_core":"ss9A"}],FgrW:[function(e,t,n){t.exports={default:e("core-js/library/fn/object/entries"),__esModule:!0}},{"core-js/library/fn/object/entries":"lQ0T"}],Q0fQ:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.updateIn=n.toUndefinedIfEmpty=n.shallowEqual=n.shallowCopy=n.setIn=n.set=n.removeIn=n.remove=n.map=n.isEmpty=n.is=n.haveSameProps=n.hasKey=n.hasIn=n.getKeys=n.getIn=n.get=void 0;var s=b(e("babel-runtime/helpers/newArrowCheck")),r=e("flow-static-land/lib/Fun"),i=b(e("babel-runtime/helpers/typeof")),o=e("@jumpn/utils-array"),a=b(e("babel-runtime/core-js/object/keys")),u=b(e("babel-runtime/helpers/toConsumableArray")),c=b(e("fast-deep-equal")),l=b(e("babel-runtime/helpers/defineProperty")),f=b(e("babel-runtime/helpers/extends")),d=b(e("babel-runtime/helpers/slicedToArray")),h=b(e("babel-runtime/core-js/object/entries")),p=b(e("babel-runtime/helpers/objectWithoutProperties")),v=b(e("babel-runtime/core-js/symbol"));function b(e){return e&&e.__esModule?e:{default:e}}var g=function(e,t){return(0,s.default)(this,void 0),t[e]}.bind(void 0),y=(0,r.curry)(g),m=function(e){return(0,s.default)(this,void 0),null!==e&&"object"===(void 0===e?"undefined":(0,i.default)(e))}.bind(void 0),_=function(e){return(0,s.default)(this,void 0),Array.isArray(e)||m(e)}.bind(void 0),S=void 0,E=function(e,t,n){return(0,s.default)(this,S),(0,o.isLastIndex)(t,e)?n:C(e+1,t,n)}.bind(void 0),j=function(e,t,n){return(0,s.default)(this,S),"Expected to find a composite at ["+String(t.join(", "))+"]["+String(e)+"], but instead got: "+(void 0===n?"undefined":(0,i.default)(n))}.bind(void 0),k=function(e,t,n){if((0,s.default)(this,S),_(n))return n;throw new Error(j(e,t,n))}.bind(void 0),C=function(e,t,n){return(0,s.default)(this,S),void 0===n?void 0:E(e,t,y(t[e],k(e,t,n)))}.bind(void 0),O=function(e,t){return(0,s.default)(this,S),0===e.length?void 0:C(0,e,t)}.bind(void 0),w=(0,r.curry)(O),x=function(e){return(0,s.default)(this,void 0),Array.isArray(e)?[].concat((0,u.default)(e.keys())):(0,a.default)(e)}.bind(void 0),T=function(e,t,n){return(0,s.default)(this,void 0),(0,c.default)(w(e,n),t)}.bind(void 0),R=(0,r.curry)(T),A=function(e,t){return(0,s.default)(this,void 0),Object.prototype.hasOwnProperty.call(t,e)}.bind(void 0),M=(0,r.curry)(A),I=function(t,n){(0,s.default)(this,void 0);var e=x(t);return e.length===x(n).length&&e.every(function(e){return(0,s.default)(this,void 0),M(e,n)&&y(e,t)===y(e,n)}.bind(this))}.bind(void 0),P=(0,r.curry)(I),U=function(e){return(0,s.default)(this,void 0),0===x(e).length}.bind(void 0),N=void 0,G=function(o,a){return(0,s.default)(this,N),(0,h.default)(a).reduce(function(e,t){var n=(0,d.default)(t,2),r=n[0],i=n[1];return(0,s.default)(this,N),(0,f.default)({},e,(0,l.default)({},r,o(i,r,a)))}.bind(this),{})}.bind(void 0),L=function(e,t){return(0,s.default)(this,N),Array.isArray(t)?t.map(e):G(e,t)}.bind(void 0),H=(0,r.curry)(L),q=function(e,t){t[e];var n=(0,p.default)(t,[e]);return(0,s.default)(this,void 0),n}.bind(void 0),D=function(e,t){return(0,s.default)(this,void 0),Array.isArray(t)?(0,o.remove)(e,1,t):q(e,t)}.bind(void 0),B=(0,r.curry)(D),z=function(e){return(0,s.default)(this,void 0),Array.isArray(e)?[].concat((0,u.default)(e)):(0,f.default)({},e)}.bind(void 0),F=void 0,Q=function(e){(0,s.default)(this,F);var t=z(e);return{origin:t,current:t,previous:void 0}}.bind(void 0),Y=function(e,t,n){return(0,s.default)(this,F),n[e]=t,y(e,n)}.bind(void 0),W=function(e,t,n,r){return(0,s.default)(this,F),(0,f.default)({},r,{current:Y(e[t],n,r.current),previous:r.current})}.bind(void 0),J=function(e,t,n){(0,s.default)(this,F);var r=B(e[t],n.current);return 0===t?(0,f.default)({},n,{current:r,origin:r}):(0,f.default)({},n,{previous:Y(e[t-1],r,n.previous)})}.bind(void 0),V=(0,v.default)("composite.updateIn.removeAction"),K=function(e,t,n,r){return(0,s.default)(this,F),n===V?J(e,t,r):W(e,t,n,r)}.bind(void 0),Z=function(e){return(0,s.default)(this,F),"number"==typeof e?[]:{}}.bind(void 0),X=function(e,t,n){return(0,s.default)(this,F),M(e,n)?z(y(e,n)):Z(t)}.bind(void 0),$=function(e,t,n,r){return(0,s.default)(this,F),(0,o.isLastIndex)(e,n)?t(y(e[n],r)):X(e[n],e[n+1],r)}.bind(void 0),ee=function(r,i){return(0,s.default)(this,F),function(e,t,n){return(0,s.default)(this,F),K(r,n,$(r,i,n,e.current),e)}.bind(this)}.bind(void 0),te=function(e,t,n){return(0,s.default)(this,F),0===e.length?n:e.reduce(ee(e,t),Q(n)).origin}.bind(void 0),ne=(0,r.curry)(te);n.updateIn=ne,n.shallowCopy=z,n.remove=B,n.map=H,n.isEmpty=U,n.haveSameProps=P,n.hasKey=M,n.hasIn=R,n.getKeys=x,n.getIn=w,n.is=_,n.get=y,ne.remove=V;var re=function(){return(0,s.default)(this,void 0),ne.remove}.bind(void 0),ie=function(e,t){return(0,s.default)(this,void 0),ne(e,re,t)}.bind(void 0),oe=(0,r.curry)(ie),ae=function(e,t,n){(0,s.default)(this,void 0);var r=z(n);return r[e]=t,r}.bind(void 0),se=(0,r.curry)(ae),ue=function(e,t,n){return(0,s.default)(this,void 0),ne(e,function(){return(0,s.default)(this,void 0),t}.bind(this),n)}.bind(void 0),ce=(0,r.curry)(ue),le=function(e,t){return(0,s.default)(this,void 0),Boolean(Number(e)^Number(t))}.bind(void 0),fe=function(e,t){return(0,s.default)(this,void 0),e===t||!le(Array.isArray(e),Array.isArray(t))&&P(e,t)}.bind(void 0),de=(0,r.curry)(fe),he=function(e){return(0,s.default)(this,void 0),U(e)?void 0:e}.bind(void 0);n.toUndefinedIfEmpty=he,n.shallowEqual=de,n.setIn=ce,n.set=se,n.removeIn=oe},{"babel-runtime/helpers/newArrowCheck":"EIvU","flow-static-land/lib/Fun":"o7wy","babel-runtime/helpers/typeof":"GyBZ","@jumpn/utils-array":"YuTU","babel-runtime/core-js/object/keys":"FtNa","babel-runtime/helpers/toConsumableArray":"mYpx","fast-deep-equal":"jIGR","babel-runtime/helpers/defineProperty":"Xos8","babel-runtime/helpers/extends":"T4f3","babel-runtime/helpers/slicedToArray":"m8OI","babel-runtime/core-js/object/entries":"FgrW","babel-runtime/helpers/objectWithoutProperties":"zCAL","babel-runtime/core-js/symbol":"ibPW"}],XFqm:[function(e,t,n){var r,i;r=this,i=function(){return r={},i.m=n=[function(t,e,n){(function(e){t.exports=e.Phoenix=n(2)}).call(this,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.r(t),n.d(t,"Channel",function(){return O}),n.d(t,"Serializer",function(){return w}),n.d(t,"Socket",function(){return x}),n.d(t,"LongPoll",function(){return T}),n.d(t,"Ajax",function(){return R}),n.d(t,"Presence",function(){return N});function s(e){return"function"==typeof e?e:function(){return e}}var u="undefined"!=typeof self?self:null,d="undefined"!=typeof window?window:null,h=u||d||void 0,p="closed",v="errored",b="joining",g="leaving",y="phx_close",m="phx_error",_="phx_join",S="phx_reply",E="phx_leave",j=[y,m,_,S,E],k="websocket",C=(o(U,[{key:"resend",value:function(e){this.timeout=e,this.reset(),this.send()}},{key:"send",value:function(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}},{key:"receive",value:function(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}},{key:"reset",value:function(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}},{key:"matchReceive",value:function(e){var t=e.status,n=e.response;e.ref,this.recHooks.filter(function(e){return e.status===t}).forEach(function(e){return e.callback(n)})}},{key:"cancelRefEvent",value:function(){this.refEvent&&this.channel.off(this.refEvent)}},{key:"cancelTimeout",value:function(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}},{key:"startTimeout",value:function(){var t=this;this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,function(e){t.cancelRefEvent(),t.cancelTimeout(),t.receivedResp=e,t.matchReceive(e)}),this.timeoutTimer=setTimeout(function(){t.trigger("timeout",{})},this.timeout)}},{key:"hasReceived",value:function(e){return this.receivedResp&&this.receivedResp.status===e}},{key:"trigger",value:function(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}}]),U),O=(o(P,[{key:"join",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.timeout;if(this.joinedOnce)throw new Error("tried to join multiple times. 'join' can only be called a single time per channel instance");return this.timeout=e,this.joinedOnce=!0,this.rejoin(),this.joinPush}},{key:"onClose",value:function(e){this.on(y,e)}},{key:"onError",value:function(t){return this.on(m,function(e){return t(e)})}},{key:"on",value:function(e,t){var n=this.bindingRef++;return this.bindings.push({event:e,ref:n,callback:t}),n}},{key:"off",value:function(t,n){this.bindings=this.bindings.filter(function(e){return!(e.event===t&&(void 0===n||n===e.ref))})}},{key:"canPush",value:function(){return this.socket.isConnected()&&this.isJoined()}},{key:"push",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw new Error("tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.join() before pushing events"));var r=new C(this,e,function(){return t},n);return this.canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}},{key:"leave",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.timeout;function n(){e.socket.hasLogger()&&e.socket.log("channel","leave ".concat(e.topic)),e.trigger(y,"leave")}this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=g;var r=new C(this,E,s({}),t);return r.receive("ok",function(){return n()}).receive("timeout",function(){return n()}),r.send(),this.canPush()||r.trigger("ok",{}),r}},{key:"onMessage",value:function(e,t,n){return t}},{key:"isLifecycleEvent",value:function(e){return 0<=j.indexOf(e)}},{key:"isMember",value:function(e,t,n,r){return!(this.topic!==e||r&&r!==this.joinRef()&&this.isLifecycleEvent(t)&&(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:e,event:t,payload:n,joinRef:r}),1))}},{key:"joinRef",value:function(){return this.joinPush.ref}},{key:"rejoin",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.timeout;this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=b,this.joinPush.resend(e))}},{key:"trigger",value:function(t,e,n,r){var i=this.onMessage(t,e,n,r);if(e&&!i)throw new Error("channel onMessage callbacks must return the payload, modified or unmodified");for(var o=this.bindings.filter(function(e){return e.event===t}),a=0;a<o.length;a++)o[a].callback(i,n,r||this.joinRef())}},{key:"replyEventName",value:function(e){return"chan_reply_".concat(e)}},{key:"isClosed",value:function(){return this.state===p}},{key:"isErrored",value:function(){return this.state===v}},{key:"isJoined",value:function(){return"joined"===this.state}},{key:"isJoining",value:function(){return this.state===b}},{key:"isLeaving",value:function(){return this.state===g}}]),P),w={encode:function(e,t){var n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(n))},decode:function(e,t){var n=l(JSON.parse(e),5);return t({join_ref:n[0],ref:n[1],topic:n[2],event:n[3],payload:n[4]})}},x=(o(I,[{key:"protocol",value:function(){return location.protocol.match(/^https/)?"wss":"ws"}},{key:"endPointURL",value:function(){var e=R.appendParams(R.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return"/"!==e.charAt(0)?e:"/"===e.charAt(1)?"".concat(this.protocol(),":").concat(e):"".concat(this.protocol(),"://").concat(location.host).concat(e)}},{key:"disconnect",value:function(e,t,n){this.closeWasClean=!0,this.reconnectTimer.reset(),this.teardown(e,t,n)}},{key:"connect",value:function(e){var t=this;e&&(console&&console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor"),this.params=s(e)),this.conn||(this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=function(){return t.onConnOpen()},this.conn.onerror=function(e){return t.onConnError(e)},this.conn.onmessage=function(e){return t.onConnMessage(e)},this.conn.onclose=function(e){return t.onConnClose(e)})}},{key:"log",value:function(e,t,n){this.logger(e,t,n)}},{key:"hasLogger",value:function(){return null!==this.logger}},{key:"onOpen",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.open.push([t,e]),t}},{key:"onClose",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.close.push([t,e]),t}},{key:"onError",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.error.push([t,e]),t}},{key:"onMessage",value:function(e){var t=this.makeRef();return this.stateChangeCallbacks.message.push([t,e]),t}},{key:"onConnOpen",value:function(){this.hasLogger()&&this.log("transport","connected to ".concat(this.endPointURL())),this.unloaded=!1,this.closeWasClean=!1,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach(function(e){return(0,l(e,2)[1])()})}},{key:"resetHeartbeat",value:function(){var e=this;this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(function(){return e.sendHeartbeat()},this.heartbeatIntervalMs))}},{key:"teardown",value:function(e,t,n){var r=this;if(!this.conn)return e&&e();this.waitForBufferDone(function(){r.conn&&(t?r.conn.close(t,n||""):r.conn.close()),r.waitForSocketClosed(function(){r.conn&&(r.conn.onclose=function(){},r.conn=null),e&&e()})})}},{key:"waitForBufferDone",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;5!==n&&this.conn&&this.conn.bufferedAmount?setTimeout(function(){t.waitForBufferDone(e,n+1)},150*n):e()}},{key:"waitForSocketClosed",value:function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;5!==n&&this.conn&&3!==this.conn.readyState?setTimeout(function(){t.waitForSocketClosed(e,n+1)},150*n):e()}},{key:"onConnClose",value:function(t){this.hasLogger()&&this.log("transport","close",t),this.triggerChanError(),clearInterval(this.heartbeatTimer),this.closeWasClean||this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(function(e){return(0,l(e,2)[1])(t)})}},{key:"onConnError",value:function(t){this.hasLogger()&&this.log("transport",t),this.triggerChanError(),this.stateChangeCallbacks.error.forEach(function(e){return(0,l(e,2)[1])(t)})}},{key:"triggerChanError",value:function(){this.channels.forEach(function(e){e.isErrored()||e.isLeaving()||e.isClosed()||e.trigger(m)})}},{key:"connectionState",value:function(){switch(this.conn&&this.conn.readyState){case 0:return"connecting";case 1:return"open";case 2:return"closing";default:return"closed"}}},{key:"isConnected",value:function(){return"open"===this.connectionState()}},{key:"remove",value:function(t){this.off(t.stateChangeRefs),this.channels=this.channels.filter(function(e){return e.joinRef()!==t.joinRef()})}},{key:"off",value:function(n){for(var e in this.stateChangeCallbacks)this.stateChangeCallbacks[e]=this.stateChangeCallbacks[e].filter(function(e){var t=l(e,1)[0];return-1===n.indexOf(t)})}},{key:"channel",value:function(e){var t=new O(e,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},this);return this.channels.push(t),t}},{key:"push",value:function(e){var t=this;if(this.hasLogger()){var n=e.topic,r=e.event,i=e.payload,o=e.ref,a=e.join_ref;this.log("push","".concat(n," ").concat(r," (").concat(a,", ").concat(o,")"),i)}this.isConnected()?this.encode(e,function(e){return t.conn.send(e)}):this.sendBuffer.push(function(){return t.encode(e,function(e){return t.conn.send(e)})})}},{key:"makeRef",value:function(){var e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}},{key:"sendHeartbeat",value:function(){if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void this.abnormalClose("heartbeat timeout");this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef})}}},{key:"abnormalClose",value:function(e){this.closeWasClean=!1,this.conn.close(1e3,e)}},{key:"flushSendBuffer",value:function(){this.isConnected()&&0<this.sendBuffer.length&&(this.sendBuffer.forEach(function(e){return e()}),this.sendBuffer=[])}},{key:"onConnMessage",value:function(e){var c=this;this.decode(e.data,function(e){var t=e.topic,n=e.event,r=e.payload,i=e.ref,o=e.join_ref;i&&i===c.pendingHeartbeatRef&&(c.pendingHeartbeatRef=null),c.hasLogger()&&c.log("receive","".concat(r.status||""," ").concat(t," ").concat(n," ").concat(i&&"("+i+")"||""),r);for(var a=0;a<c.channels.length;a++){var s=c.channels[a];s.isMember(t,n,r,o)&&s.trigger(n,r,i,o)}for(var u=0;u<c.stateChangeCallbacks.message.length;u++)(0,l(c.stateChangeCallbacks.message[u],2)[1])(e)})}},{key:"leaveOpenTopic",value:function(t){var e=this.channels.find(function(e){return e.topic===t&&(e.isJoined()||e.isJoining())});e&&(this.hasLogger()&&this.log("transport",'leaving duplicate topic "'.concat(t,'"')),e.leave())}}]),I),T=(o(M,[{key:"normalizeEndpoint",value:function(e){return e.replace("ws://","http://").replace("wss://","https://").replace(new RegExp("(.*)/"+k),"$1/longpoll")}},{key:"endpointURL",value:function(){return R.appendParams(this.pollEndpoint,{token:this.token})}},{key:"closeAndRetry",value:function(){this.close(),this.readyState=0}},{key:"ontimeout",value:function(){this.onerror("timeout"),this.closeAndRetry()}},{key:"poll",value:function(){var i=this;1!==this.readyState&&0!==this.readyState||R.request("GET",this.endpointURL(),"application/json",null,this.timeout,this.ontimeout.bind(this),function(e){if(e){var t=e.status,n=e.token,r=e.messages;i.token=n}else t=0;switch(t){case 200:r.forEach(function(e){return i.onmessage({data:e})}),i.poll();break;case 204:i.poll();break;case 410:i.readyState=1,i.onopen(),i.poll();break;case 403:i.onerror(),i.close();break;case 0:case 500:i.onerror(),i.closeAndRetry();break;default:throw new Error("unhandled poll status ".concat(t))}})}},{key:"send",value:function(e){var t=this;R.request("POST",this.endpointURL(),"application/json",e,this.timeout,this.onerror.bind(this,"timeout"),function(e){e&&200===e.status||(t.onerror(e&&e.status),t.closeAndRetry())})}},{key:"close",value:function(e,t){this.readyState=3,this.onclose()}}]),M),R=(o(A,null,[{key:"request",value:function(e,t,n,r,i,o,a){if(h.XDomainRequest){var s=new XDomainRequest;this.xdomainRequest(s,e,t,r,i,o,a)}else{var u=new h.XMLHttpRequest;this.xhrRequest(u,e,t,n,r,i,o,a)}}},{key:"xdomainRequest",value:function(t,e,n,r,i,o,a){var s=this;t.timeout=i,t.open(e,n),t.onload=function(){var e=s.parseJSON(t.responseText);a&&a(e)},o&&(t.ontimeout=o),t.onprogress=function(){},t.send(r)}},{key:"xhrRequest",value:function(t,e,n,r,i,o,a,s){var u=this;t.open(e,n,!0),t.timeout=o,t.setRequestHeader("Content-Type",r),t.onerror=function(){s&&s(null)},t.onreadystatechange=function(){if(t.readyState===u.states.complete&&s){var e=u.parseJSON(t.responseText);s(e)}},a&&(t.ontimeout=a),t.send(i)}},{key:"parseJSON",value:function(t){if(!t||""===t)return null;try{return JSON.parse(t)}catch(e){return console&&console.log("failed to parse JSON response",t),null}}},{key:"serialize",value:function(e,t){var n=[];for(var r in e)if(e.hasOwnProperty(r)){var i=t?"".concat(t,"[").concat(r,"]"):r,o=e[r];"object"===a(o)?n.push(this.serialize(o,i)):n.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}return n.join("&")}},{key:"appendParams",value:function(e,t){if(0===Object.keys(t).length)return e;var n=e.match(/\?/)?"&":"?";return"".concat(e).concat(n).concat(this.serialize(t))}}]),A);function A(){i(this,A)}function M(e){i(this,M),this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(e),this.readyState=0,this.poll()}function I(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i(this,I),this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=n.timeout||1e4,this.transport=n.transport||h.WebSocket||T,this.defaultEncoder=w.encode,this.defaultDecoder=w.decode,this.closeWasClean=!1,this.unloaded=!1,this.binaryType=n.binaryType||"arraybuffer",this.transport!==T?(this.encode=n.encode||this.defaultEncoder,this.decode=n.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder),d&&d.addEventListener&&d.addEventListener("unload",function(e){t.conn&&(t.unloaded=!0,t.abnormalClose("unloaded"))}),this.heartbeatIntervalMs=n.heartbeatIntervalMs||3e4,this.rejoinAfterMs=function(e){return n.rejoinAfterMs?n.rejoinAfterMs(e):[1e3,2e3,5e3][e-1]||1e4},this.reconnectAfterMs=function(e){return t.unloaded?100:n.reconnectAfterMs?n.reconnectAfterMs(e):[10,50,100,150,200,250,500,1e3,2e3][e-1]||5e3},this.logger=n.logger||null,this.longpollerTimeout=n.longpollerTimeout||2e4,this.params=s(n.params||{}),this.endPoint="".concat(e,"/").concat(k),this.vsn=n.vsn||"2.0.0",this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new G(function(){t.teardown(function(){return t.connect()})},this.reconnectAfterMs)}function P(e,t,n){var r=this;i(this,P),this.state=p,this.topic=e,this.params=s(t||{}),this.socket=n,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new C(this,_,this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new G(function(){r.socket.isConnected()&&r.rejoin()},this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError(function(){return r.rejoinTimer.reset()})),this.stateChangeRefs.push(this.socket.onOpen(function(){r.rejoinTimer.reset(),r.isErrored()&&r.rejoin()})),this.joinPush.receive("ok",function(){r.state="joined",r.rejoinTimer.reset(),r.pushBuffer.forEach(function(e){return e.send()}),r.pushBuffer=[]}),this.joinPush.receive("error",function(){r.state=v,r.socket.isConnected()&&r.rejoinTimer.scheduleTimeout()}),this.onClose(function(){r.rejoinTimer.reset(),r.socket.hasLogger()&&r.socket.log("channel","close ".concat(r.topic," ").concat(r.joinRef())),r.state=p,r.socket.remove(r)}),this.onError(function(e){r.socket.hasLogger()&&r.socket.log("channel","error ".concat(r.topic),e),r.isJoining()&&r.joinPush.reset(),r.state=v,r.socket.isConnected()&&r.rejoinTimer.scheduleTimeout()}),this.joinPush.receive("timeout",function(){r.socket.hasLogger()&&r.socket.log("channel","timeout ".concat(r.topic," (").concat(r.joinRef(),")"),r.joinPush.timeout),new C(r,E,s({}),r.timeout).send(),r.state=v,r.joinPush.reset(),r.socket.isConnected()&&r.rejoinTimer.scheduleTimeout()}),this.on(S,function(e,t){r.trigger(r.replyEventName(t),e)})}function U(e,t,n,r){i(this,U),this.channel=e,this.event=t,this.payload=n||function(){return{}},this.receivedResp=null,this.timeout=r,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}R.states={complete:4};var N=(o(H,[{key:"onJoin",value:function(e){this.caller.onJoin=e}},{key:"onLeave",value:function(e){this.caller.onLeave=e}},{key:"onSync",value:function(e){this.caller.onSync=e}},{key:"list",value:function(e){return H.list(this.state,e)}},{key:"inPendingSyncState",value:function(){return!this.joinRef||this.joinRef!==this.channel.joinRef()}}],[{key:"syncState",value:function(e,n,t,r){var s=this,u=this.clone(e),c={},l={};return this.map(u,function(e,t){n[e]||(l[e]=t)}),this.map(n,function(e,t){var n=u[e];if(n){var r=t.metas.map(function(e){return e.phx_ref}),i=n.metas.map(function(e){return e.phx_ref}),o=t.metas.filter(function(e){return i.indexOf(e.phx_ref)<0}),a=n.metas.filter(function(e){return r.indexOf(e.phx_ref)<0});0<o.length&&(c[e]=t,c[e].metas=o),0<a.length&&(l[e]=s.clone(n),l[e].metas=a)}else c[e]=t}),this.syncDiff(u,{joins:c,leaves:l},t,r)}},{key:"syncDiff",value:function(e,t,s,i){var n=t.joins,r=t.leaves,u=this.clone(e);return s=s||function(){},i=i||function(){},this.map(n,function(e,t){var n,r=u[e];if(u[e]=t,r){var i,o=u[e].metas.map(function(e){return e.phx_ref}),a=r.metas.filter(function(e){return o.indexOf(e.phx_ref)<0});(i=u[e].metas).unshift.apply(i,function(e){if(Array.isArray(e))return f(e)}(n=a)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||c(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}s(e,r,t)}),this.map(r,function(e,t){var n=u[e];if(n){var r=t.metas.map(function(e){return e.phx_ref});n.metas=n.metas.filter(function(e){return r.indexOf(e.phx_ref)<0}),i(e,n,t),0===n.metas.length&&delete u[e]}}),u}},{key:"list",value:function(e,n){return n=n||function(e,t){return t},this.map(e,function(e,t){return n(e,t)})}},{key:"map",value:function(t,n){return Object.getOwnPropertyNames(t).map(function(e){return n(e,t[e])})}},{key:"clone",value:function(e){return JSON.parse(JSON.stringify(e))}}]),H),G=(o(L,[{key:"reset",value:function(){this.tries=0,clearTimeout(this.timer)}},{key:"scheduleTimeout",value:function(){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){e.tries=e.tries+1,e.callback()},this.timerCalc(this.tries+1))}}]),L);function L(e,t){i(this,L),this.callback=e,this.timerCalc=t,this.timer=null,this.tries=0}function H(e){var o=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i(this,H);var n=t.events||{state:"presence_state",diff:"presence_diff"};this.state={},this.pendingDiffs=[],this.channel=e,this.joinRef=null,this.caller={onJoin:function(){},onLeave:function(){},onSync:function(){}},this.channel.on(n.state,function(e){var t=o.caller,n=t.onJoin,r=t.onLeave,i=t.onSync;o.joinRef=o.channel.joinRef(),o.state=H.syncState(o.state,e,n,r),o.pendingDiffs.forEach(function(e){o.state=H.syncDiff(o.state,e,n,r)}),o.pendingDiffs=[],i()}),this.channel.on(n.diff,function(e){var t=o.caller,n=t.onJoin,r=t.onLeave,i=t.onSync;o.inPendingSyncState()?o.pendingDiffs.push(e):(o.state=H.syncDiff(o.state,e,n,r),i())})}}],i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0);function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var n,r},"object"==typeof n&&"object"==typeof t?t.exports=i():"object"==typeof n?n.Phoenix=i():r.Phoenix=i()},{}],g6sb:[function(e,t,n){var r=e("./_iobject"),i=e("./_defined");t.exports=function(e){return r(i(e))}},{"./_iobject":"nGau","./_defined":"BjjL"}],vfEH:[function(e,t,n){var r=e("./_to-integer"),i=Math.max,o=Math.min;t.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},{"./_to-integer":"yjVO"}],Ca7J:[function(e,t,n){var u=e("./_to-iobject"),c=e("./_to-length"),l=e("./_to-absolute-index");t.exports=function(s){return function(e,t,n){var r,i=u(e),o=c(i.length),a=l(n,o);if(s&&t!=t){for(;a<o;)if((r=i[a++])!=r)return!0}else for(;a<o;a++)if((s||a in i)&&i[a]===t)return s||a||0;return!s&&-1}}},{"./_to-iobject":"g6sb","./_to-length":"dJBs","./_to-absolute-index":"vfEH"}],NaGB:[function(e,t,n){var r=e("./_shared")("keys"),i=e("./_uid");t.exports=function(e){return r[e]||(r[e]=i(e))}},{"./_shared":"zGcK","./_uid":"U49f"}],vL0Z:[function(e,t,n){var a=e("./_has"),s=e("./_to-iobject"),u=e("./_array-includes")(!1),c=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var n,r=s(e),i=0,o=[];for(n in r)n!=c&&a(r,n)&&o.push(n);for(;t.length>i;)a(r,n=t[i++])&&(~u(o,n)||o.push(n));return o}},{"./_has":"uHgd","./_to-iobject":"g6sb","./_array-includes":"Ca7J","./_shared-key":"NaGB"}],U9a7:[function(e,t,n){var r=e("./_object-keys-internal"),i=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return r(e,i)}},{"./_object-keys-internal":"vL0Z","./_enum-bug-keys":"KxjL"}],MiMz:[function(e,t,n){var a=e("./_object-dp"),s=e("./_an-object"),u=e("./_object-keys");t.exports=e("./_descriptors")?Object.defineProperties:function(e,t){s(e);for(var n,r=u(t),i=r.length,o=0;o<i;)a.f(e,n=r[o++],t[n]);return e}},{"./_object-dp":"nw8e","./_an-object":"eT53","./_object-keys":"U9a7","./_descriptors":"P9Ib"}],xjB1:[function(e,t,n){var r=e("./_global").document;t.exports=r&&r.documentElement},{"./_global":"qf4T"}],sYaK:[function(r,e,t){function i(){}var o=r("./_an-object"),a=r("./_object-dps"),s=r("./_enum-bug-keys"),u=r("./_shared-key")("IE_PROTO"),c="prototype",l=function(){var e,t=r("./_dom-create")("iframe"),n=s.length;for(t.style.display="none",r("./_html").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l[c][s[n]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(i[c]=o(e),n=new i,i[c]=null,n[u]=e):n=l(),void 0===t?n:a(n,t)}},{"./_an-object":"eT53","./_object-dps":"MiMz","./_enum-bug-keys":"KxjL","./_shared-key":"NaGB","./_dom-create":"vZ6E","./_html":"xjB1"}],rq3q:[function(e,t,n){var r=e("./_object-dp").f,i=e("./_has"),o=e("./_wks")("toStringTag");t.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},{"./_object-dp":"nw8e","./_has":"uHgd","./_wks":"AIP1"}],ebgP:[function(e,t,n){"use strict";var r=e("./_object-create"),i=e("./_property-desc"),o=e("./_set-to-string-tag"),a={};e("./_hide")(a,e("./_wks")("iterator"),function(){return this}),t.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},{"./_object-create":"sYaK","./_property-desc":"uJ6d","./_set-to-string-tag":"rq3q","./_hide":"NXbe","./_wks":"AIP1"}],q6yw:[function(e,t,n){var r=e("./_has"),i=e("./_to-object"),o=e("./_shared-key")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},{"./_has":"uHgd","./_to-object":"rfVX","./_shared-key":"NaGB"}],mH0U:[function(e,t,n){"use strict";function m(){return this}var _=e("./_library"),S=e("./_export"),E=e("./_redefine"),j=e("./_hide"),k=e("./_iterators"),C=e("./_iter-create"),O=e("./_set-to-string-tag"),w=e("./_object-gpo"),x=e("./_wks")("iterator"),T=!([].keys&&"next"in[].keys()),R="values";t.exports=function(e,t,n,r,i,o,a){C(n,t,r);function s(e){if(!T&&e in p)return p[e];switch(e){case"keys":case R:return function(){return new n(this,e)}}return function(){return new n(this,e)}}var u,c,l,f=t+" Iterator",d=i==R,h=!1,p=e.prototype,v=p[x]||p["@@iterator"]||i&&p[i],b=v||s(i),g=i?d?s("entries"):b:void 0,y="Array"==t&&p.entries||v;if(y&&(l=w(y.call(new e)))!==Object.prototype&&l.next&&(O(l,f,!0),_||"function"==typeof l[x]||j(l,x,m)),d&&v&&v.name!==R&&(h=!0,b=function(){return v.call(this)}),_&&!a||!T&&!h&&p[x]||j(p,x,b),k[t]=b,k[f]=m,i)if(u={values:d?b:s(R),keys:o?b:s("keys"),entries:g},a)for(c in u)c in p||E(p,c,u[c]);else S(S.P+S.F*(T||h),t,u);return u}},{"./_library":"H21C","./_export":"izCb","./_redefine":"PHot","./_hide":"NXbe","./_iterators":"dhak","./_iter-create":"ebgP","./_set-to-string-tag":"rq3q","./_object-gpo":"q6yw","./_wks":"AIP1"}],wVEN:[function(e,t,n){"use strict";var r=e("./_add-to-unscopables"),i=e("./_iter-step"),o=e("./_iterators"),a=e("./_to-iobject");t.exports=e("./_iter-define")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},{"./_add-to-unscopables":"Z7eD","./_iter-step":"xwDU","./_iterators":"dhak","./_to-iobject":"g6sb","./_iter-define":"mH0U"}],v6Aj:[function(e,t,n){for(var r=e("./es6.array.iterator"),i=e("./_object-keys"),o=e("./_redefine"),a=e("./_global"),s=e("./_hide"),u=e("./_iterators"),c=e("./_wks"),l=c("iterator"),f=c("toStringTag"),d=u.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(h),v=0;v<p.length;v++){var b,g=p[v],y=h[g],m=a[g],_=m&&m.prototype;if(_&&(_[l]||s(_,l,d),_[f]||s(_,f,g),u[g]=d,y))for(b in r)_[b]||o(_,b,r[b],!0)}},{"./es6.array.iterator":"wVEN","./_object-keys":"U9a7","./_redefine":"PHot","./_global":"qf4T","./_hide":"NXbe","./_iterators":"dhak","./_wks":"AIP1"}],Hh2M:[function(e,t,n){"use strict";var r=e("./_fails");t.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},{"./_fails":"BXiR"}],VsIt:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-methods")(0),o=e("./_strict-method")([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e,t){return i(this,e,t)}})},{"./_export":"izCb","./_array-methods":"AuPh","./_strict-method":"Hh2M"}],XfJI:[function(e,t,n){t.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},{}],OMTj:[function(e,t,n){t.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},{}],wFNi:[function(e,t,n){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},{}],Fhqp:[function(e,t,n){var r=e("./arrayWithoutHoles"),i=e("./iterableToArray"),o=e("./nonIterableSpread");t.exports=function(e){return r(e)||i(e)||o()}},{"./arrayWithoutHoles":"XfJI","./iterableToArray":"OMTj","./nonIterableSpread":"wFNi"}],RBsu:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-methods")(1);r(r.P+r.F*!e("./_strict-method")([].map,!0),"Array",{map:function(e,t){return i(this,e,t)}})},{"./_export":"izCb","./_array-methods":"AuPh","./_strict-method":"Hh2M"}],x5yM:[function(e,t,n){var u=e("./_to-integer"),c=e("./_defined");t.exports=function(s){return function(e,t){var n,r,i=String(c(e)),o=u(t),a=i.length;return o<0||a<=o?s?"":void 0:(n=i.charCodeAt(o))<55296||56319<n||o+1===a||(r=i.charCodeAt(o+1))<56320||57343<r?s?i.charAt(o):n:s?i.slice(o,o+2):r-56320+(n-55296<<10)+65536}}},{"./_to-integer":"yjVO","./_defined":"BjjL"}],t3as:[function(e,t,n){"use strict";var r=e("./_string-at")(!0);t.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},{"./_string-at":"x5yM"}],GM7B:[function(e,t,n){var i=e("./_cof"),o=e("./_wks")("toStringTag"),a="Arguments"==i(function(){return arguments}());t.exports=function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},{"./_cof":"Z5df","./_wks":"AIP1"}],sNFG:[function(e,t,n){"use strict";var i=e("./_classof"),o=RegExp.prototype.exec;t.exports=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw new TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==i(e))throw new TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},{"./_classof":"GM7B"}],hgks:[function(e,t,n){"use strict";var r=e("./_an-object");t.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},{"./_an-object":"eT53"}],ZcPD:[function(e,t,n){"use strict";var r,i,a=e("./_flags"),s=RegExp.prototype.exec,u=String.prototype.replace,o=s,c="lastIndex",l=(r=/a/,i=/b*/g,s.call(r,"a"),s.call(i,"a"),0!==r[c]||0!==i[c]),f=void 0!==/()??/.exec("")[1];(l||f)&&(o=function(e){var t,n,r,i,o=this;return f&&(n=new RegExp("^"+o.source+"$(?!\\s)",a.call(o))),l&&(t=o[c]),r=s.call(o,e),l&&r&&(o[c]=o.global?r.index+r[0].length:t),f&&r&&1<r.length&&u.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),t.exports=o},{"./_flags":"hgks"}],S07n:[function(e,t,n){"use strict";var r=e("./_regexp-exec");e("./_export")({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},{"./_regexp-exec":"ZcPD","./_export":"izCb"}],LmBS:[function(e,t,n){"use strict";e("./es6.regexp.exec");var l=e("./_redefine"),f=e("./_hide"),d=e("./_fails"),h=e("./_defined"),p=e("./_wks"),v=e("./_regexp-exec"),b=p("species"),g=!d(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),y=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(n,e,t){var r=p(n),o=!d(function(){var e={};return e[r]=function(){return 7},7!=""[n](e)}),i=o?!d(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},"split"===n&&(t.constructor={},t.constructor[b]=function(){return t}),t[r](""),!e}):void 0;if(!o||!i||"replace"===n&&!g||"split"===n&&!y){var a=/./[r],s=t(h,r,""[n],function(e,t,n,r,i){return t.exec===v?o&&!i?{done:!0,value:a.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),u=s[0],c=s[1];l(String.prototype,n,u),f(RegExp.prototype,r,2==e?function(e,t){return c.call(e,this,t)}:function(e){return c.call(e,this)})}}},{"./es6.regexp.exec":"S07n","./_redefine":"PHot","./_hide":"NXbe","./_fails":"BXiR","./_defined":"BjjL","./_wks":"AIP1","./_regexp-exec":"ZcPD"}],RTfC:[function(e,t,n){"use strict";var f=e("./_an-object"),d=e("./_to-length"),h=e("./_advance-string-index"),p=e("./_regexp-exec-abstract");e("./_fix-re-wks")("match",1,function(r,i,c,l){return[function(e){var t=r(this),n=null==e?void 0:e[i];return void 0!==n?n.call(e,t):new RegExp(e)[i](String(t))},function(e){var t=l(c,e,this);if(t.done)return t.value;var n=f(e),r=String(this);if(!n.global)return p(n,r);for(var i,o=n.unicode,a=[],s=n.lastIndex=0;null!==(i=p(n,r));){var u=String(i[0]);""===(a[s]=u)&&(n.lastIndex=h(r,d(n.lastIndex),o)),s++}return 0===s?null:a}]})},{"./_an-object":"eT53","./_to-length":"dJBs","./_advance-string-index":"t3as","./_regexp-exec-abstract":"sNFG","./_fix-re-wks":"LmBS"}],dwTY:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-methods")(3);r(r.P+r.F*!e("./_strict-method")([].some,!0),"Array",{some:function(e,t){return i(this,e,t)}})},{"./_export":"izCb","./_array-methods":"AuPh","./_strict-method":"Hh2M"}],xcbV:[function(e,t,n){t.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},{}],h83E:[function(e,t,n){"use strict";var o=e("./_a-function"),a=e("./_is-object"),s=e("./_invoke"),u=[].slice,c={};t.exports=Function.bind||function(t){var n=o(this),r=u.call(arguments,1),i=function(){var e=r.concat(u.call(arguments));return this instanceof i?function(e,t,n){if(!(t in c)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";c[t]=Function("F,a","return new F("+r.join(",")+")")}return c[t](e,n)}(n,e.length,e):s(n,e,t)};return a(n.prototype)&&(i.prototype=n.prototype),i}},{"./_a-function":"kYjc","./_is-object":"M7z6","./_invoke":"xcbV"}],WIhg:[function(e,t,n){var r=e("./_export");r(r.P,"Function",{bind:e("./_bind")})},{"./_export":"izCb","./_bind":"h83E"}],tS9b:[function(e,t,n){t.exports=function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")}},{}],hqAf:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.requestToCompat=n.requestFromCompat=n.hasSubscription=n.getOperationType=n.errorsToString=void 0,e("core-js/modules/es6.array.map"),e("core-js/modules/es6.regexp.match"),e("core-js/modules/es6.array.some"),e("core-js/modules/es6.function.bind");var r,i=(r=e("@babel/runtime/helpers/newArrowCheck"))&&r.__esModule?r:{default:r};var o=void 0,a=function(e){var r=this;return(0,i.default)(this,o),e.map(function(e){var t=e.column,n=e.line;return(0,i.default)(this,r),"".concat(n,":").concat(t)}.bind(this)).join("; ")}.bind(void 0),s=function(e){var t=e.message,n=e.locations;return(0,i.default)(this,o),t+(n?" (".concat(a(n),")"):"")}.bind(void 0),u=function(e){return(0,i.default)(this,o),e.map(s).join("\n")}.bind(void 0);n.errorsToString=u;var c=/^\s*(query|mutation|subscription|\{)/,l=function(e){return(0,i.default)(this,void 0),"{"===e?"query":e}.bind(void 0),f=function(e){(0,i.default)(this,void 0);var t=e.match(c);if(!t)throw new TypeError("Invalid operation:\n".concat(e));return l(t[1])}.bind(void 0);n.getOperationType=f;var d=function(e){return(0,i.default)(this,void 0),"OperationDefinition"===e.kind&&"subscription"===e.operation}.bind(void 0),h=function(e){return(0,i.default)(this,void 0),e.definitions.some(d)}.bind(void 0);n.hasSubscription=h;var p=function(e){var t=e.query,n=e.variables;return(0,i.default)(this,void 0),n?{operation:t,variables:n}:{operation:t}}.bind(void 0);n.requestFromCompat=p;var v=function(e){var t=e.operation,n=e.variables;return(0,i.default)(this,void 0),n?{query:t,variables:n}:{query:t}}.bind(void 0);n.requestToCompat=v},{"core-js/modules/es6.array.map":"RBsu","core-js/modules/es6.regexp.match":"RTfC","core-js/modules/es6.array.some":"dwTY","core-js/modules/es6.function.bind":"WIhg","@babel/runtime/helpers/newArrowCheck":"tS9b"}],AVeU:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(){return"function"==typeof Symbol}function c(e){return a()&&Boolean(Symbol[e])}function s(e){return c(e)?Symbol[e]:"@@"+e}a()&&!c("observable")&&(Symbol.observable=Symbol("observable"));var l=s("iterator"),f=s("observable"),u=s("species");function d(e,t){var n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function h(e){var t=e.constructor;return void 0!==t&&null===(t=t[u])&&(t=void 0),void 0!==t?t:k}function p(e){p.log?p.log(e):setTimeout(function(){throw e})}function v(e){Promise.resolve().then(function(){try{e()}catch(e){p(e)}})}function b(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var n=d(t,"unsubscribe");n&&n.call(t)}}catch(e){p(e)}}function g(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function y(e,t,n){e._state="running";var r=e._observer;try{var i=d(r,t);switch(t){case"next":i&&i.call(r,n);break;case"error":if(g(e),!i)throw n;i.call(r,n);break;case"complete":g(e),i&&i.call(r)}}catch(e){p(e)}"closed"===e._state?b(e):"running"===e._state&&(e._state="ready")}function m(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void v(function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(y(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)})):void y(e,t,n);e._queue.push({type:t,value:n})}}var _=(r(S,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(g(this),b(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),S);function S(e,t){o(this,S),this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new E(this);try{this._cleanup=t.call(void 0,n)}catch(e){n.error(e)}"initializing"===this._state&&(this._state="ready")}var E=(r(j,[{key:"next",value:function(e){m(this._subscription,"next",e)}},{key:"error",value:function(e){m(this._subscription,"error",e)}},{key:"complete",value:function(){m(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),j);function j(e){o(this,j),this._subscription=e}var k=n.Observable=(r(C,[{key:"subscribe",value:function(e,t,n){return"object"==typeof e&&null!==e||(e={next:e,error:t,complete:n}),new _(e,this._subscriber)}},{key:"forEach",value:function(i){var o=this;return new Promise(function(e,t){if("function"==typeof i)var n=o.subscribe({next:function(e){try{i(e,r)}catch(e){t(e),n.unsubscribe()}},error:t,complete:e});else t(new TypeError(i+" is not a function"));function r(){n.unsubscribe(),e()}})}},{key:"map",value:function(n){var e=this;if("function"!=typeof n)throw new TypeError(n+" is not a function");return new(h(this))(function(t){return e.subscribe({next:function(e){try{e=n(e)}catch(e){return t.error(e)}t.next(e)},error:function(e){t.error(e)},complete:function(){t.complete()}})})}},{key:"filter",value:function(n){var e=this;if("function"!=typeof n)throw new TypeError(n+" is not a function");return new(h(this))(function(t){return e.subscribe({next:function(e){try{if(!n(e))return}catch(e){return t.error(e)}t.next(e)},error:function(e){t.error(e)},complete:function(){t.complete()}})})}},{key:"reduce",value:function(r,e){var t=this;if("function"!=typeof r)throw new TypeError(r+" is not a function");var n=h(this),i=1<arguments.length,o=!1,a=e;return new n(function(n){return t.subscribe({next:function(e){var t=!o;if(o=!0,!t||i)try{a=r(a,e)}catch(e){return n.error(e)}else a=e},error:function(e){n.error(e)},complete:function(){if(!o&&!i)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(a),n.complete()}})})}},{key:"concat",value:function(){for(var e=this,t=arguments.length,o=Array(t),n=0;n<t;n++)o[n]=arguments[n];var a=h(this);return new a(function(n){var r=void 0,i=0;return function e(t){r=t.subscribe({next:function(e){n.next(e)},error:function(e){n.error(e)},complete:function(){i===o.length?(r=void 0,n.complete()):e(a.from(o[i++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}})}},{key:"flatMap",value:function(o){var t=this;if("function"!=typeof o)throw new TypeError(o+" is not a function");var a=h(this);return new a(function(n){var r=[],e=t.subscribe({next:function(e){if(o)try{e=o(e)}catch(e){return n.error(e)}var t=a.from(e).subscribe({next:function(e){n.next(e)},error:function(e){n.error(e)},complete:function(){var e=r.indexOf(t);0<=e&&r.splice(e,1),i()}});r.push(t)},error:function(e){n.error(e)},complete:function(){i()}});function i(){e.closed&&0===r.length&&n.complete()}return function(){r.forEach(function(e){return e.unsubscribe()}),e.unsubscribe()}})}},{key:f,value:function(){return this}}],[{key:"from",value:function(s){var e="function"==typeof this?this:C;if(null==s)throw new TypeError(s+" is not an object");var u=d(s,f);if(u){var t=u.call(s);if(Object(t)!==t)throw new TypeError(t+" is not an object");return t instanceof k&&t.constructor===e?t:new e(function(e){return t.subscribe(e)})}if(c("iterator")&&(u=d(s,l)))return new e(function(a){v(function(){if(!a.closed){var e=!0,t=!1,n=void 0;try{for(var r,i=u.call(s)[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;if(a.next(o),a.closed)return}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}a.complete()}})});if(Array.isArray(s))return new e(function(t){v(function(){if(!t.closed){for(var e=0;e<s.length;++e)if(t.next(s[e]),t.closed)return;t.complete()}})});throw new TypeError(s+" is not observable")}},{key:"of",value:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return new("function"==typeof this?this:C)(function(t){v(function(){if(!t.closed){for(var e=0;e<n.length;++e)if(t.next(n[e]),t.closed)return;t.complete()}})})}},{key:u,get:function(){return this}}]),C);function C(e){if(o(this,C),!(this instanceof C))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}a()&&Object.defineProperty(k,Symbol("extensions"),{value:{symbol:f,hostReportError:p},configurable:!0})},{}],U0NN:[function(e,t,n){t.exports=e("./lib/Observable.js").Observable},{"./lib/Observable.js":"AVeU"}],TLss:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-includes")(!0);r(r.P,"Array",{includes:function(e,t){return i(this,e,1<arguments.length?t:void 0)}}),e("./_add-to-unscopables")("includes")},{"./_export":"izCb","./_array-includes":"Ca7J","./_add-to-unscopables":"Z7eD"}],WEVF:[function(e,t,n){var r=e("./_is-object"),i=e("./_cof"),o=e("./_wks")("match");t.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},{"./_is-object":"M7z6","./_cof":"Z5df","./_wks":"AIP1"}],GbTB:[function(e,t,n){var r=e("./_is-regexp"),i=e("./_defined");t.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},{"./_is-regexp":"WEVF","./_defined":"BjjL"}],AhNa:[function(e,t,n){var r=e("./_wks")("match");t.exports=function(t){var n=/./;try{"/./"[t](n)}catch(e){try{return n[r]=!1,!"/./"[t](n)}catch(e){}}return!0}},{"./_wks":"AIP1"}],fH7p:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_string-context"),o="includes";r(r.P+r.F*e("./_fails-is-regexp")(o),"String",{includes:function(e,t){return!!~i(this,e,o).indexOf(e,1<arguments.length?t:void 0)}})},{"./_export":"izCb","./_string-context":"GbTB","./_fails-is-regexp":"AhNa"}],IxO8:[function(e,t,n){t.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},{}],fwAU:[function(e,t,n){var i=e("./defineProperty");t.exports=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){i(t,e,n[e])})}return t}},{"./defineProperty":"IxO8"}],t2zx:[function(e,t,n){t.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}},{}],U8F3:[function(e,t,n){var a=e("./objectWithoutPropertiesLoose");t.exports=function(e,t){if(null==e)return{};var n,r,i=a(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},{"./objectWithoutPropertiesLoose":"t2zx"}],LvRh:[function(e,t,n){"use strict";var r=e("./_export"),i=e("./_array-includes")(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!e("./_strict-method")(o)),"Array",{indexOf:function(e,t){return a?o.apply(this,arguments)||0:i(this,e,t)}})},{"./_export":"izCb","./_array-includes":"Ca7J","./_strict-method":"Hh2M"}],zTqj:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.unobserveOrCancel=n.unobserve=n.toObservable=n.send=n.observe=n.create=n.cancel=void 0,e("core-js/modules/es6.array.find-index"),e("core-js/modules/es6.array.find"),e("core-js/modules/es6.function.name");var r=e("@jumpn/utils-composite");e("phoenix"),e("core-js/modules/web.dom.iterable"),e("core-js/modules/es6.array.for-each");var i=f(e("@babel/runtime/helpers/toConsumableArray")),o=e("@jumpn/utils-graphql"),s=f(e("zen-observable"));e("core-js/modules/es7.array.includes"),e("core-js/modules/es6.string.includes");var a=f(e("@babel/runtime/helpers/objectSpread")),u=f(e("@babel/runtime/helpers/objectWithoutProperties"));e("core-js/modules/es6.array.index-of");var c=e("@jumpn/utils-array");e("core-js/modules/es6.function.bind");var l=f(e("@babel/runtime/helpers/newArrowCheck"));function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.activeObservers,n=e.canceledObservers,r=(0,u.default)(e,["activeObservers","canceledObservers"]);return(0,l.default)(this,void 0),(0,a.default)({},r,{isActive:!1,activeObservers:[],canceledObservers:(0,i.default)(t).concat((0,i.default)(n))})}.bind(void 0),h=void 0,p=function(t,n){var r=this;return(0,l.default)(this,h),function(e){return(0,l.default)(this,r),e[t]&&e[t](n)}.bind(this)}.bind(void 0),v=function(e){var t=e.name;return(0,l.default)(this,h),"on".concat(t)}.bind(void 0),b=function(e,t){return(0,l.default)(this,h),e.forEach(p(v(t),t.payload))}.bind(void 0),g=function(e,t){return(0,l.default)(this,void 0),b(e.canceledObservers,t),e}.bind(void 0),y="Abort",m="Cancel",_="Error",S="Result",E="Start",j=void 0,k=function(e){return(0,l.default)(this,j),{payload:e,name:E}}.bind(void 0),C=function(e){return(0,l.default)(this,j),{payload:e,name:S}}.bind(void 0),O=function(e){return(0,l.default)(this,j),{payload:e,name:_}}.bind(void 0),w=function(){return(0,l.default)(this,j),{name:m,payload:void 0}}.bind(void 0),x=function(e){return(0,l.default)(this,j),{payload:e,name:y}}.bind(void 0),T=function(e){return(0,l.default)(this,void 0),(0,a.default)({},e,{canceledObservers:[]})}.bind(void 0),R=function(e){return(0,l.default)(this,void 0),0<e.canceledObservers.length?T(g(e,w())):e}.bind(void 0),A=function(e,t,n){return(0,l.default)(this,void 0),e.findIndex((0,r.hasIn)([t],n))}.bind(void 0),M=function(t){var n=this;return(0,l.default)(this,void 0),function(e){return(0,l.default)(this,n),(0,c.replace)(A(e,"request",t.request),[t],e)}.bind(this)}.bind(void 0),I=function(t){var n=this;return(0,l.default)(this,void 0),function(e){return(0,l.default)(this,n),(0,c.remove)(A(e,"request",t.request),1,e)}.bind(this)}.bind(void 0),P=function(e,t){return(0,l.default)(this,void 0),e.notifiers=t(e.notifiers),e}.bind(void 0),U=function(e,t){return(0,l.default)(this,void 0),P(e,M(t)),t}.bind(void 0),N="canceling",G="pending",L="sent",H="sending",q=function(e){var t=e.activeObservers,n=e.canceledObservers;return(0,l.default)(this,void 0),(0,i.default)(t).concat((0,i.default)(n))}.bind(void 0),D=function(e,t){return(0,l.default)(this,void 0),b(q(e),t),e}.bind(void 0),B=function(e,t,n){return(0,l.default)(this,void 0),P(e,I(D(t,x(n))))}.bind(void 0),z=function(e,t,n){return(0,l.default)(this,void 0),e.find((0,r.hasIn)([t],n))}.bind(void 0),F=function(e,t){return(0,l.default)(this,void 0),b(e.activeObservers,t),e}.bind(void 0),Q=function(e,t){return(0,l.default)(this,void 0),F(e,C(t))}.bind(void 0),Y=function(e){return(0,l.default)(this,void 0),F(e,k(e))}.bind(void 0),W=function(e){return(0,l.default)(this,void 0),R((0,a.default)({},e,{isActive:!0,requestStatus:G,subscriptionId:void 0}))}.bind(void 0),J=function(e,t){return(0,l.default)(this,void 0),e.receive("ok",t.onSucceed).receive("error",t.onError).receive("timeout",t.onTimeout)}.bind(void 0),V=void 0,K=function(a,s){var e=this;return(0,l.default)(this,V),function(i){var o=this;return(0,l.default)(this,e),function(){(0,l.default)(this,o);var e=z(a.notifiers,"request",s);if(e){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i.apply(void 0,[a,e].concat(n))}}.bind(this)}.bind(this)}.bind(void 0),Z=function(e,t,n){return(0,l.default)(this,V),(0,r.map)(K(e,t),n)}.bind(void 0),X=function(e,t,n,r){return(0,l.default)(this,V),J(e.channel.push(r.name,r.payload),Z(e,t,n)),e}.bind(void 0),$="doc",ee="unsubscribe",te=function(e){return(0,l.default)(this,void 0),{payload:e,name:ee}}.bind(void 0),ne=function(e){return(0,l.default)(this,void 0),{payload:e,name:$}}.bind(void 0),re=void 0,ie=function(e,t,n){var r=t.request;return(0,l.default)(this,re),X(e,r,n,ne((0,o.requestToCompat)(r)))}.bind(void 0),oe=function(e,t){return(0,l.default)(this,re),U(e,(0,a.default)({},t,{requestStatus:H}))}.bind(void 0),ae=function(e){return(0,l.default)(this,re),new Error("request: ".concat(e))}.bind(void 0),se=function(e,t){return(0,l.default)(this,re),F(t,O(ae("timeout")))}.bind(void 0),ue=function(e,t,n){return(0,l.default)(this,re),B(e,t,ae(n))}.bind(void 0),ce=function(e){return(0,l.default)(this,re),{onError:ue,onSucceed:e,onTimeout:se}}.bind(void 0),le=function(e,t,n){return(0,l.default)(this,re),ie(e,oe(e,t),ce(n))}.bind(void 0),fe=void 0,de=function(e,t){return(0,l.default)(this,fe),P(e,I(R(t)))}.bind(void 0),he=function(e,t){return(0,l.default)(this,fe),_e(e,U(e,W(t)))}.bind(void 0),pe=function(e){return(0,l.default)(this,fe),new Error("unsubscribe: ".concat(e))}.bind(void 0),ve={onError:function(e,t,n){return(0,l.default)(this,fe),B(e,t,pe(n))}.bind(void 0),onTimeout:function(e,t){return(0,l.default)(this,fe),g(t,O(pe("timeout")))}.bind(void 0),onSucceed:function(e,t){(0,l.default)(this,fe),(t.isActive?he:de)(e,t)}.bind(void 0)},be=function(e,t){var n=t.request,r=t.subscriptionId;return(0,l.default)(this,fe),X(e,n,ve,te({subscriptionId:r}))}.bind(void 0),ge=function(e,t){return(0,l.default)(this,fe),be(e,U(e,(0,a.default)({},t,{requestStatus:N})))}.bind(void 0),ye=function(e,t,n){var r=n.subscriptionId;(0,l.default)(this,fe);var i=U(e,(0,a.default)({},t,{subscriptionId:r,requestStatus:L}));i.isActive?Y(i):ge(e,i)}.bind(void 0),me=function(e,t,n){(0,l.default)(this,fe),n.errors?ue(e,t,(0,o.errorsToString)(n.errors)):ye(e,t,n)}.bind(void 0),_e=function(e,t){return(0,l.default)(this,fe),le(e,t,me)}.bind(void 0),Se=function(e,t){var n=t.payload;(0,l.default)(this,fe);var r=z(e.notifiers,"subscriptionId",n.subscriptionId);r&&Q(r,n.result)}.bind(void 0),Ee=function(e){return(0,l.default)(this,fe),"subscription:data"===e.event}.bind(void 0),je=void 0,ke=function(e,t){return(0,l.default)(this,je),P(e,M(R(d(t))))}.bind(void 0),Ce=function(e,t){return(0,l.default)(this,je),t.requestStatus===H?ke(e,t):e}.bind(void 0),Oe=function(e,t){return(0,l.default)(this,je),P(e,I(R(d(t))))}.bind(void 0),we=function(e,t){return(0,l.default)(this,je),(t.requestStatus===G?Oe:Ce)(e,t)}.bind(void 0),xe=function(e,t){return(0,l.default)(this,je),t.requestStatus===L?ge(e,t):e}.bind(void 0),Te=function(e,t){return(0,l.default)(this,je),xe(e,U(e,d(t)))}.bind(void 0),Re=function(e,t){return(0,l.default)(this,je),(t.requestStatus===G?Oe:Te)(e,t)}.bind(void 0),Ae=function(e,t){return(0,l.default)(this,je),("subscription"===t.operationType?Re:we)(e,t)}.bind(void 0),Me=function(e,t){return(0,l.default)(this,je),t.isActive?Ae(e,t):e}.bind(void 0);n.cancel=Me;var Ie=void 0,Pe=function(e,t){return(0,l.default)(this,Ie),U(e,(0,a.default)({},t,{requestStatus:L}))}.bind(void 0),Ue=function(e,t,n){return(0,l.default)(this,Ie),P(e,I(Q(Pe(e,t),n)))}.bind(void 0),Ne=function(e,t){return(0,l.default)(this,Ie),le(e,Y(t),Ue)}.bind(void 0),Ge=function(e,t){(0,l.default)(this,Ie),("subscription"===t.operationType?_e:Ne)(e,t)}.bind(void 0),Le=void 0,He=function(e){return(0,l.default)(this,Le),new Error("channel join: ".concat(e))}.bind(void 0),qe=function(e,t){var n=this;return(0,l.default)(this,Le),e.notifiers.forEach(function(e){return(0,l.default)(this,n),F(e,O(He(t)))}.bind(this))}.bind(void 0),De=function(n){var r=this;return(0,l.default)(this,Le),{onError:function(e){return(0,l.default)(this,r),qe(n,e)}.bind(this),onSucceed:function(){var t=this;return(0,l.default)(this,r),n.notifiers.forEach(function(e){return(0,l.default)(this,t),Ge(n,e)}.bind(this))}.bind(this),onTimeout:function(){return(0,l.default)(this,r),qe(n,"timeout")}.bind(this)}}.bind(void 0),Be=function(e){return(0,l.default)(this,Le),J(e.channel.join(),De(e)),e.channelJoinCreated=!0,e}.bind(void 0),ze=void 0,Fe=function(t){var n=this;return(0,l.default)(this,ze),function(e){(0,l.default)(this,n),Ee(e)&&Se(t,e)}.bind(this)}.bind(void 0),Qe=function(){return(0,l.default)(this,ze),new Error("connection: close")}.bind(void 0),Ye=function(e){return(0,l.default)(this,ze),D(e,O(Qe()))}.bind(void 0),We=function(e,t){return(0,l.default)(this,ze),P(e,I(Ye(t)))}.bind(void 0),Je=function(e,t){(0,l.default)(this,ze),"mutation"===t.operationType?B(e,t,Qe()):U(e,W(Ye(t)))}.bind(void 0),Ve=function(t){var n=this;return(0,l.default)(this,ze),function(e){(0,l.default)(this,n),(e.isActive?Je:We)(t,e)}.bind(this)}.bind(void 0),Ke=function(e){var t=this;return(0,l.default)(this,ze),function(){return(0,l.default)(this,t),e.notifiers.forEach(Ve(e))}.bind(this)}.bind(void 0),Ze=function(e){return(0,l.default)(this,ze),!e.channelJoinCreated&&0<e.notifiers.length}.bind(void 0),Xe=function(e){var t=this;return(0,l.default)(this,ze),function(){(0,l.default)(this,t),Ze(e)&&Be(e)}.bind(this)}.bind(void 0),$e=function(e){(0,l.default)(this,ze);var t={phoenixSocket:e,channel:e.channel("__absinthe__:control"),channelJoinCreated:!1,notifiers:[]};return e.onOpen(Xe(t)),e.onClose(Ke(t)),e.onMessage(Fe(t)),t}.bind(void 0);n.create=$e;var et=function(e,t){var n=e.activeObservers,r=(0,u.default)(e,["activeObservers"]);return(0,l.default)(this,void 0),(0,a.default)({},r,{activeObservers:(0,i.default)(n).concat([t]),isActive:!0})}.bind(void 0),tt=function(e,t,n){return(0,l.default)(this,void 0),U(e,et(t,n))}.bind(void 0);n.observe=tt;var nt=function(e,t){return(0,l.default)(this,void 0),{operationType:t,request:e,activeObservers:[],canceledObservers:[],isActive:!0,requestStatus:G,subscriptionId:void 0}}.bind(void 0),rt=function(e){return(0,l.default)(this,void 0),nt(e,(0,o.getOperationType)(e.operation))}.bind(void 0),it=function(e){return(0,l.default)(this,void 0),e.isActive?e:(0,a.default)({},e,{isActive:!0})}.bind(void 0),ot=void 0,at=function(e){(0,l.default)(this,ot),e.phoenixSocket.isConnected()?Be(e):e.phoenixSocket.connect()}.bind(void 0),st=function(e,t){(0,l.default)(this,ot);var n=rt(t);return P(e,(0,c.append)([n])),e.channelJoinCreated?Ge(e,n):at(e),n}.bind(void 0),ut=function(e,t){return(0,l.default)(this,ot),U(e,it(t))}.bind(void 0),ct=function(e,t){return(0,l.default)(this,ot),t.requestStatus===H?ut(e,R(t)):ut(e,t)}.bind(void 0),lt=function(e,t){return(0,l.default)(this,ot),t.isActive?t:ct(e,t)}.bind(void 0),ft=function(e,t){(0,l.default)(this,ot);var n=z(e.notifiers,"request",t);return n&&lt(e,n)}.bind(void 0),dt=function(e,t){return(0,l.default)(this,ot),ft(e,t)||st(e,t)}.bind(void 0);n.send=dt;var ht=void 0,pt=function(t,e,n,r){var i=this,o=e.request;return(0,l.default)(this,ht),function(){(0,l.default)(this,i);var e=z(t.notifiers,"request",o);r(t,e,e?n:void 0)}.bind(this)}.bind(void 0),vt=function(e,t){var n=this,r=e.operationType;return(0,l.default)(this,ht),function(e){(0,l.default)(this,n),t.next(e),"subscription"!==r&&t.complete()}.bind(this)}.bind(void 0),bt=function(e,t,n){return(0,l.default)(this,ht),(0,a.default)({},t,{onAbort:n.error.bind(n),onResult:vt(e,n)})}.bind(void 0),gt=function(n,r,e){var i=this,t=2<arguments.length&&void 0!==e?e:{},o=t.unsubscribe,a=(0,u.default)(t,["unsubscribe"]);return(0,l.default)(this,ht),new s.default(function(e){(0,l.default)(this,i);var t=bt(r,a,e);return tt(n,r,t),o&&pt(n,r,t,o)}.bind(this))}.bind(void 0);n.toObservable=gt;var yt=function(e,t){return(0,l.default)(this,void 0),(0,c.remove)(e.indexOf(t),1,e)}.bind(void 0),mt=function(e,t){var n=e.activeObservers,r=(0,u.default)(e,["activeObservers"]);return(0,l.default)(this,void 0),(0,a.default)({},r,{activeObservers:yt(n,t)})}.bind(void 0),_t=function(e,t){if((0,l.default)(this,void 0),e.activeObservers.includes(t))return e;throw new Error("Observer is not attached to notifier")}.bind(void 0),St=function(e,t,n){return(0,l.default)(this,void 0),P(e,M(mt(_t(t,n),n)))}.bind(void 0);n.unobserve=St;var Et=function(e,t,n){return(0,l.default)(this,void 0),1===t.activeObservers.length?Me(e,t):St(e,t,n)}.bind(void 0),jt=function(e,t,n){return(0,l.default)(this,void 0),t.isActive?Et(e,t,n):e}.bind(void 0);n.unobserveOrCancel=jt},{"core-js/modules/es6.array.find-index":"sVmK","core-js/modules/es6.array.find":"Qppk","core-js/modules/es6.function.name":"N3yi","@jumpn/utils-composite":"Q0fQ",phoenix:"XFqm","core-js/modules/web.dom.iterable":"v6Aj","core-js/modules/es6.array.for-each":"VsIt","@babel/runtime/helpers/toConsumableArray":"Fhqp","@jumpn/utils-graphql":"hqAf","zen-observable":"U0NN","core-js/modules/es7.array.includes":"TLss","core-js/modules/es6.string.includes":"fH7p","@babel/runtime/helpers/objectSpread":"fwAU","@babel/runtime/helpers/objectWithoutProperties":"U8F3","core-js/modules/es6.array.index-of":"LvRh","@jumpn/utils-array":"YuTU","core-js/modules/es6.function.bind":"WIhg","@babel/runtime/helpers/newArrowCheck":"tS9b"}],P6qz:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.GraphQLClientSocket=void 0;var s=a(e("@absinthe/socket")),u=a(e("phoenix")),c=function(){function n(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.query="",this.isCurrentlySubscribed=!1,this.unsubscribe=function(){s.cancel(t.absintheSocket,t.notifier),t.notifier=null,t.absintheSocket=null,t.isCurrentlySubscribed=!1},this.socketUrl=e.socketUrl,this.authToken=e.authToken,this.query=e.query,this.onAbort=e.onAbort||function(){},this.onStart=e.onStart||function(){},this.onResult=e.onResult||function(){},this.initializeSocket(),this.initializeObserver()}var e,t,r;return e=n,(t=[{key:"initializeSocket",value:function(){this.absintheSocket=s.create(new u.Socket(this.socketUrl,{params:{token:this.authToken}})),this.notifier=s.send(this.absintheSocket,{operation:this.query})}},{key:"initializeObserver",value:function(){var e=this;s.observe(this.absintheSocket,this.notifier,{onStart:function(){e.isCurrentlySubscribed||(e.isCurrentlySubscribed=!0,e.onStart())},onAbort:this.onAbort,onResult:this.onResult})}}])&&i(e.prototype,t),r&&i(e,r),n}();n.GraphQLClientSocket=c},{"@absinthe/socket":"zTqj",phoenix:"XFqm"}],Cteb:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.UPDATE_MESSAGES_CHANGE=n.UPDATE_MESSAGES_SUBSCRIBE_ERROR=n.UPDATE_MESSAGES_SUBSCRIBE_SUCCESS=n.MESSAGES_FETCH_HISTORY_INITIAL_ERROR=n.MESSAGES_FETCH_HISTORY_ERROR=n.MESSAGES_FETCH_HISTORY_INITIAL_SUCCESS=n.MESSAGES_FETCH_HISTORY_SUCCESS=n.MESSAGES_HISTORY_CHANGE_MANY=n.MESSAGES_HISTORY_CHANGE_ONE=n.MESSAGES_HISTORY_PREPEND_MANY=n.MESSAGES_HISTORY_PREPEND_ONE=n.MESSAGES_HISTORY_APPEND_MANY=n.MESSAGES_HISTORY_APPEND_ONE=n.MESSAGES_HISTORY_SET=n.MESSAGES_SUBSCRIBE_ERROR=n.MESSAGES_SUBSCRIBE_SUCCESS=n.TYPING_STATUS_SUBSCRIBE_ERROR=n.TYPING_STATUS_SUBSCRIBE_SUCCESS=n.TYPING_STATUS_CHANGE=n.OPERATOR_ONLINE_STATUS_SUBSCRIBE_ERROR=n.OPERATOR_ONLINE_STATUS_SUBSCRIBE_SUCCESS=n.OPERATOR_ONLINE_STATUS_CHANGE=n.JOIN_ROOM_ERROR=n.JOIN_ROOM_SUCCESS=n.UNREAD_FETCH_COUNTS_ERROR=n.UNREAD_FETCH_COUNTS_SUCCESS=n.UNREAD_MESSAGES_SUBSCRIBE_ERROR=n.UNREAD_MESSAGES_SUBSCRIBE_SUCCESS=n.LAST_READ_MESSAGE_CHANGE=n.UNREAD_REPLIES_CHANGE=n.UNREAD_MESSAGES_CHANGE=void 0,n.UNREAD_MESSAGES_CHANGE="UNREAD_MESSAGES_CHANGE",n.UNREAD_REPLIES_CHANGE="UNREAD_REPLIES_CHANGE",n.LAST_READ_MESSAGE_CHANGE="LAST_READ_MESSAGE_CHANGE",n.UNREAD_MESSAGES_SUBSCRIBE_SUCCESS="UNREAD_MESSAGES_SUBSCRIBE_SUCCESS",n.UNREAD_MESSAGES_SUBSCRIBE_ERROR="UNREAD_MESSAGES_SUBSCRIBE_ERROR",n.UNREAD_FETCH_COUNTS_SUCCESS="UNREAD_FETCH_COUNTS_SUCCESS",n.UNREAD_FETCH_COUNTS_ERROR="UNREAD_FETCH_COUNTS_ERROR",n.JOIN_ROOM_SUCCESS="JOIN_ROOM_SUCCESS",n.JOIN_ROOM_ERROR="JOIN_ROOM_ERROR",n.OPERATOR_ONLINE_STATUS_CHANGE="OPERATOR_ONLINE_STATUS_CHANGE",n.OPERATOR_ONLINE_STATUS_SUBSCRIBE_SUCCESS="OPERATOR_ONLINE_STATUS_SUBSCRIBE_SUCCESS",n.OPERATOR_ONLINE_STATUS_SUBSCRIBE_ERROR="OPERATOR_ONLINE_STATUS_SUBSCRIBE_ERROR",n.TYPING_STATUS_CHANGE="TYPING_STATUS_CHANGE",n.TYPING_STATUS_SUBSCRIBE_SUCCESS="TYPING_STATUS_SUBSCRIBE_SUCCESS",n.TYPING_STATUS_SUBSCRIBE_ERROR="TYPING_STATUS_SUBSCRIBE_ERROR",n.MESSAGES_SUBSCRIBE_SUCCESS="MESSAGES_SUBSCRIBE_SUCCESS",n.MESSAGES_SUBSCRIBE_ERROR="MESSAGES_SUBSCRIBE_ERROR",n.MESSAGES_HISTORY_SET="MESSAGES_HISTORY_SET",n.MESSAGES_HISTORY_APPEND_ONE="MESSAGES_HISTORY_APPEND_ONE",n.MESSAGES_HISTORY_APPEND_MANY="MESSAGES_HISTORY_APPEND_MANY",n.MESSAGES_HISTORY_PREPEND_ONE="MESSAGES_HISTORY_PREPEND_ONE",n.MESSAGES_HISTORY_PREPEND_MANY="MESSAGES_HISTORY_PREPEND_MANY",n.MESSAGES_HISTORY_CHANGE_ONE="MESSAGES_HISTORY_CHANGE_ONE",n.MESSAGES_HISTORY_CHANGE_MANY="MESSAGES_HISTORY_CHANGE_MANY",n.MESSAGES_FETCH_HISTORY_SUCCESS="MESSAGES_FETCH_HISTORY_SUCCESS",n.MESSAGES_FETCH_HISTORY_INITIAL_SUCCESS="MESSAGES_FETCH_HISTORY_INITIAL_SUCCESS",n.MESSAGES_FETCH_HISTORY_ERROR="MESSAGES_FETCH_HISTORY_ERROR",n.MESSAGES_FETCH_HISTORY_INITIAL_ERROR="MESSAGES_FETCH_HISTORY_INITIAL_ERROR",n.UPDATE_MESSAGES_SUBSCRIBE_SUCCESS="UPDATE_MESSAGES_SUBSCRIBE_SUCCESS",n.UPDATE_MESSAGES_SUBSCRIBE_ERROR="UPDATE_MESSAGES_SUBSCRIBE_ERROR",n.UPDATE_MESSAGES_CHANGE="UPDATE_MESSAGES_CHANGE"},{}],xY1B:[function(e,t,n){"use strict";function i(){var e=r(["\n    query {\n      room {\n        unreadMessagesCount\n        unreadRepliesCount\n      }\n    }\n  "]);return i=function(){return e},e}function o(){var e=r(["\n    mutation ($messageId: ID!) {\n      updateLastReadMessage(messageId: $messageId) {\n        unreadMessagesCount,\n        unreadRepliesCount,\n      }\n    }\n  "]);return o=function(){return e},e}function a(){var e=r(["\n    subscription {\n      updateReadMessages {\n        unreadMessagesCount\n        unreadRepliesCount\n        lastReadMessageId\n      }\n    }\n  "]);return a=function(){return e},e}function r(e,t){return t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.UnreadMessagesCounter=void 0;var u=e("../utilsCommon"),c=e("./GraphQLClient"),l=e("./GraphQLClientSocket"),f=e("./ElixirChatEventTypes"),d=function(){function n(e){var s=this,t=e.elixirChat;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.unreadMessagesCount=0,this.unreadRepliesCount=0,this.lastReadMessageId=null,this.subscriptionQuery=c.gql(a()),this.setLastReadMessageQuery=c.gql(o()),this.fetchUnreadCountsQuery=c.gql(i()),this.subscribe=function(){var e=s.elixirChat,t=e.apiUrl,n=e.authToken;s.graphQLClient=new c.GraphQLClient({url:t,token:n}),s.fetchUnreadCounts(),s.initializeSocketClient()},this.unsubscribe=function(){var e=s.elixirChat.debug;u.logEvent(e,"Unsubscribing from unread messages count..."),s.unreadMessagesCount=0,s.unreadRepliesCount=0,s.graphQLClientSocket.unsubscribe(),s.graphQLClientSocket=null,s.graphQLClient=null},this.setLastReadMessage=function(e){return s.graphQLClient.query(s.setLastReadMessageQuery,{messageId:e})},this.fetchUnreadCounts=function(){var e=s.elixirChat,t=e.debug,n=e.triggerEvent;return s.graphQLClient.query(s.fetchUnreadCountsQuery,{}).then(function(e){if(e&&e.room)return u.logEvent(t,"Fetched unread counts",e.room),n(f.UNREAD_FETCH_COUNTS_SUCCESS,e),s.onUnreadCountsUpdate(e.room),e;throw u.logEvent(t,"Failed to fetch unread counts",e,"error"),n(f.UNREAD_FETCH_COUNTS_ERROR,e),e}).catch(function(e){throw u.logEvent(t,"Failed to fetch unread counts",e,"error"),n(f.UNREAD_FETCH_COUNTS_ERROR,e),e})},this.onUnreadCountsUpdate=function(e){var t=s.elixirChat,n=t.debug,r=t.triggerEvent,i=e.unreadMessagesCount,o=e.unreadRepliesCount,a=e.lastReadMessageId;i!==s.unreadMessagesCount&&(u.logEvent(n,"Unread messages count changed to "+i),s.unreadMessagesCount=i,r(f.UNREAD_MESSAGES_CHANGE,i)),o!==s.unreadRepliesCount&&(u.logEvent(n,"Unread replies count changed to "+o),s.unreadRepliesCount=o,r(f.UNREAD_REPLIES_CHANGE,o)),a!==s.lastReadMessageId&&(u.logEvent(n,"Last message marked as read changed to ID: "+a),s.lastReadMessageId=a,r(f.LAST_READ_MESSAGE_CHANGE,a))},this.elixirChat=t}var e,t,r;return e=n,(t=[{key:"initializeSocketClient",value:function(){var r=this,e=this.elixirChat,t=e.socketUrl,n=e.authToken,i=e.debug,o=e.triggerEvent;this.graphQLClientSocket=new l.GraphQLClientSocket({socketUrl:t,authToken:n,query:this.subscriptionQuery,onAbort:function(e){u.logEvent(i,"Failed to subscribe to unread messages count",e,"error"),o(f.UNREAD_MESSAGES_SUBSCRIBE_ERROR,e)},onStart:function(){u.logEvent(i,"Successfully subscribed to unread messages count"),o(f.UNREAD_MESSAGES_SUBSCRIBE_SUCCESS)},onResult:function(e){var t,n=(null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.updateReadMessages)||{};r.onUnreadCountsUpdate(n)}})}}])&&s(e.prototype,t),r&&s(e,r),n}();n.UnreadMessagesCounter=d},{"../utilsCommon":"EjGt","./GraphQLClient":"fvSB","./GraphQLClientSocket":"P6qz","./ElixirChatEventTypes":"Cteb"}],QERd:[function(e,t,n){"use strict";function c(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t};Object.defineProperty(n,"__esModule",{value:!0}),n.TypingStatusSubscription=void 0;var u=s(e("phoenix")),l=e("./ElixirChatEventTypes"),f=e("../utilsCommon"),d=function(){function n(e){var u=this,t=e.elixirChat;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.currentlyTypingUsers=[],this.typingTimeouts={},this.typedText="",this.subscribe=function(){u.initializeSocket()},this.unsubscribe=function(){var e=u.elixirChat.debug;f.logEvent(e,"Unsubscribing from typing status change..."),u.channel.leave(),u.channel=null,u.phoenixSocket=null,u.currentlyTypingUsers=[],Object.values(u.typingTimeouts).forEach(function(e){return clearTimeout(e)}),u.typingTimeouts=[],u.typedText=""},this.dispatchTypedText=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(u.channel){var n="string"==typeof e?e.trim():"",r=Boolean(n);u.typedText===n&&!t||(u.typedText=n,u.channel.push("typing",{typing:r,text:n}))}},this.onPresenceDiff=function(e){var t,n,r,i=u.elixirChat.elixirChatClientId;try{t=Object.keys(e.joins)[0],r=(n=Object.values(e.joins)[0]).metas[0]}catch(e){}if(r&&t!==i){var o=u.currentlyTypingUsers.map(function(e){return e.id}),a=n.first_name+" "+n.last_name,s={id:t,firstName:n.first_name,lastName:n.last_name,avatar:{url:n.avatar}};r.typing&&u.removeFromCurrentlyTypingUsersAfterTimeout(t,a),r.typing&&!o.includes(t)?u.triggerOnChangeEvent([].concat(c(u.currentlyTypingUsers),[s])):!r.typing&&o.includes(t)&&u.triggerOnChangeEvent(u.currentlyTypingUsers.filter(function(e){return e.id!==t}))}},this.elixirChat=t}var e,t,r;return e=n,(t=[{key:"initializeSocket",value:function(){var e=this,t=this.elixirChat,n=t.triggerEvent,r=t.debug,i=t.socketUrl,o=t.authToken;this.phoenixSocket=new u.Socket(i,{params:{token:o}}),this.phoenixSocket.onError(function(e){f.logEvent(r,"Failed to subscribe to typing status change: could not open connection via Phoenix.Socket",e,"error"),n(l.TYPING_STATUS_SUBSCRIBE_ERROR,e)}),this.phoenixSocket.onOpen(function(){e.joinChannel()}),this.phoenixSocket.connect()}},{key:"joinChannel",value:function(){var t=this,e=this.elixirChat,n=e.triggerEvent,r=e.debug,i=e.elixirChatRoomId;this.channel&&this.channel.leave(),this.channel=this.phoenixSocket.channel("public:room:"+i,{}),this.channel.join().receive("error",function(e){f.logEvent(r,"Failed to subscribe to typing status change: channel received error",e,"error"),n(l.TYPING_STATUS_SUBSCRIBE_ERROR,e)}).receive("timeout",function(){f.logEvent(r,"Failed to subscribe to typing status change: channel received timeout",null,"error"),n(l.TYPING_STATUS_SUBSCRIBE_ERROR)}).receive("ok",function(e){t.channel.on("presence_diff",t.onPresenceDiff),t.dispatchTypedText(t.typedText,!0),f.logEvent(r,"Successfully subscribed to typing status change",e),setTimeout(function(){return n(l.TYPING_STATUS_SUBSCRIBE_SUCCESS,e)})})}},{key:"removeFromCurrentlyTypingUsersAfterTimeout",value:function(t){var e=this;clearTimeout(this.typingTimeouts[t]),this.typingTimeouts[t]=setTimeout(function(){e.triggerOnChangeEvent(e.currentlyTypingUsers.filter(function(e){return e.id!==t}))},2e3)}},{key:"triggerOnChangeEvent",value:function(e){var t=this.elixirChat,n=t.triggerEvent,r=t.debug;if(e.length||this.currentlyTypingUsers.length){var i=this.currentlyTypingUsers.length>e.length;this.currentlyTypingUsers=e,f.logEvent(r,"Some users ".concat(i?"stopped":"started"," typing"),this.currentlyTypingUsers),n(l.TYPING_STATUS_CHANGE,this.currentlyTypingUsers)}}}])&&i(e.prototype,t),r&&i(e,r),n}();n.TypingStatusSubscription=d},{phoenix:"XFqm","./ElixirChatEventTypes":"Cteb","../utilsCommon":"EjGt"}],zgd1:[function(e,t,n){"use strict";function i(){var e=function(e,t){t=t||e.slice(0);return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    subscription {\n      updateCompanyWorking\n    }\n  "]);return i=function(){return e},e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.OperatorOnlineStatusSubscription=void 0;var a=e("./ElixirChatEventTypes"),s=e("./GraphQLClient"),u=e("./GraphQLClientSocket"),c=e("../utilsCommon"),r=function(){function r(e){var n=this,t=e.elixirChat;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.subscriptionQuery=s.gql(i()),this.subscribe=function(e){var t=n.elixirChat.triggerEvent;n.areAnyOperatorsOnline=e,t(a.OPERATOR_ONLINE_STATUS_CHANGE,n.areAnyOperatorsOnline),n.initializeSocketClient()},this.unsubscribe=function(){var e=n.elixirChat.debug;c.logEvent(e,"Unsubscribing from operator online status change..."),n.graphQLClientSocket.unsubscribe(),n.graphQLClientSocket=null},this.elixirChat=t}var e,t,n;return e=r,(t=[{key:"initializeSocketClient",value:function(){var n=this,e=this.elixirChat,t=e.socketUrl,r=e.authToken,i=e.debug,o=e.triggerEvent;this.graphQLClientSocket=new u.GraphQLClientSocket({socketUrl:t,authToken:r,query:this.subscriptionQuery,onAbort:function(e){c.logEvent(i,"Failed to subscribe to operator online status change",e,"error"),o(a.OPERATOR_ONLINE_STATUS_SUBSCRIBE_ERROR,e)},onStart:function(){c.logEvent(i,"Successfully subscribed to operator online status change"),o(a.OPERATOR_ONLINE_STATUS_SUBSCRIBE_SUCCESS)},onResult:function(e){var t=e.data;n.areAnyOperatorsOnline=t&&t.updateCompanyWorking,c.logEvent(i,n.areAnyOperatorsOnline?"Operators got back online":"All operators went offline"),o(a.OPERATOR_ONLINE_STATUS_CHANGE,n.areAnyOperatorsOnline)}})}}])&&o(e.prototype,t),n&&o(e,n),r}();n.OperatorOnlineStatusSubscription=r},{"./ElixirChatEventTypes":"Cteb","./GraphQLClient":"fvSB","./GraphQLClientSocket":"P6qz","../utilsCommon":"EjGt"}],sQAQ:[function(e,t,n){"use strict";function r(){var e=function(e,t){t=t||e.slice(0);return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  fragment fragmentFile on File {\n    id\n    url\n    name\n    bytesSize\n    height\n    width\n    contentType\n    duration\n    thumbnails {\n      id\n      url\n      name\n      bytesSize\n      height\n      width\n      contentType\n      thumbType\n    }\n  }\n"]);return r=function(){return e},e}Object.defineProperty(n,"__esModule",{value:!0}),n.serializeFile=n.fragmentFile=void 0;var i=e("../GraphQLClient");n.fragmentFile=i.gql(r()),n.serializeFile=function t(e,n){var r=e||{},i=null;r.thumbnails&&r.thumbnails.length&&(i=r.thumbnails.map(function(e){return t(e,n)}));var o=n.apiUrl.replace(/\/$/,"")+"/",a="";return r.url&&(a=/^uploads/i.test(r.url)?o+r.url:r.url),{id:r.id||null,url:a,name:r.name||"",bytesSize:r.bytesSize||0,height:r.height||0,width:r.width||0,duration:r.duration||0,contentType:r.contentType||"",isScreenshot:r.isScreenshot||!1,thumbnails:i}}},{"../GraphQLClient":"fvSB"}],ZEl5:[function(e,t,n){"use strict";function r(){var e=function(e,t){t=t||e.slice(0);return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  fragment fragmentMessage on Message {\n    id\n    text\n    timestamp\n    isUnread\n    isSystem\n    \n    ... on ManualMessage {\n      tempId\n      isDeleted\n      mustOpenWidget\n      sender { ...fragmentUser }\n      attachments { ...fragmentFile }\n      mentions {\n        value\n        client { ...fragmentUser }\n      }\n      responseToMessage {\n        id\n        text\n        isDeleted\n        sender { ...fragmentUser }\n      }\n    }\n    \n    ... on ScreenshotRequestedMessage {\n      __typename\n      sender { ...fragmentUser }\n    }\n\n    ... on NobodyWorkingMessage {\n      __typename\n      workHoursStartAt\n    }\n  }\n"]);return r=function(){return e},e}Object.defineProperty(n,"__esModule",{value:!0}),n.serializeMessage=n.fragmentMessage=void 0;var i=e("../GraphQLClient"),l=e("./serializeUser"),f=e("./serializeFile");n.fragmentMessage=i.insertGraphQlFragments(i.gql(r()),{fragmentUser:l.fragmentUser,fragmentFile:f.fragmentFile}),n.serializeMessage=function(e,t){var n=e.sender,r=e.responseToMessage,i=e.attachments,o=e.mentions,a=l.serializeUser(n,t),s=(i||[]).map(function(e){return f.serializeFile(e,t)}),u={id:(null==r?void 0:r.id)||null,text:(null==r?void 0:r.text)||"",sender:l.serializeUser(null==r?void 0:r.sender,t),isDeleted:null==r?void 0:r.isDeleted},c=(o||[]).map(function(e){return{client:l.serializeUser(e.client,t),value:e.value}});return{id:(null==e?void 0:e.id)||null,tempId:(null==e?void 0:e.tempId)||null,text:(null==e?void 0:e.text)||"",timestamp:(null==e?void 0:e.timestamp)||"",cursor:(null==e?void 0:e.cursor)||null,sender:a,responseToMessage:u,attachments:s,mentions:c,isSubmitting:(null==e?void 0:e.isSubmitting)||!1,submissionErrorCode:(null==e?void 0:e.submissionErrorCode)||null,mustOpenWidget:(null==e?void 0:e.mustOpenWidget)||!1,isUnread:(null==e?void 0:e.isUnread)||!1,isSystem:(null==e?void 0:e.isSystem)||!1,isDeleted:(null==e?void 0:e.isDeleted)||!1,systemType:(null==e?void 0:e.__typename)||null,systemWorkHoursStartAt:(null==e?void 0:e.workHoursStartAt)||null}}},{"../GraphQLClient":"fvSB","./serializeUser":"lqyB","./serializeFile":"sQAQ"}],AgKM:[function(e,t,n){"use strict";function i(){var e=function(e,t){t=t||e.slice(0);return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    subscription {\n      updateMessage {\n        ...fragmentMessage\n      }\n    }\n  "]);return i=function(){return e},e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.UpdateMessageSubscription=void 0;var s=e("./ElixirChatEventTypes"),a=e("./GraphQLClient"),u=e("./GraphQLClientSocket"),c=e("../utilsCommon"),l=e("./serializers/serializeMessage"),r=function(){function r(e){var t=this,n=e.elixirChat;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.subscriptionQuery=a.insertGraphQlFragments(a.gql(i()),{fragmentMessage:l.fragmentMessage}),this.subscribe=function(){t.initializeSocketClient()},this.unsubscribe=function(){var e=t.elixirChat.debug;c.logEvent(e,"Unsubscribing from update message..."),t.graphQLClientSocket.unsubscribe(),t.graphQLClientSocket=null},this.elixirChat=n}var e,t,n;return e=r,(t=[{key:"initializeSocketClient",value:function(){var i=this,e=this.elixirChat,t=e.socketUrl,n=e.authToken,o=e.debug,a=e.triggerEvent;this.graphQLClientSocket=new u.GraphQLClientSocket({socketUrl:t,authToken:n,query:this.subscriptionQuery,onAbort:function(e){c.logEvent(o,"Failed to subscribe to update message",e,"error"),a(s.UPDATE_MESSAGES_SUBSCRIBE_ERROR,e)},onStart:function(){c.logEvent(o,"Successfully subscribed to update message"),a(s.UPDATE_MESSAGES_SUBSCRIBE_SUCCESS)},onResult:function(e){var t,n=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.updateMessage;if(n){var r=l.serializeMessage(n,i.elixirChat);c.logEvent(o,"A message was updated",{updatedMessage:r}),a(s.UPDATE_MESSAGES_CHANGE,r)}}})}}])&&o(e.prototype,t),n&&o(e,n),r}();n.UpdateMessageSubscription=r},{"./ElixirChatEventTypes":"Cteb","./GraphQLClient":"fvSB","./GraphQLClientSocket":"P6qz","../utilsCommon":"EjGt","./serializers/serializeMessage":"ZEl5"}],jRw6:[function(e,t,n){"use strict";function s(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(){var e=u(["\n    query ($beforeCursor: String, $limit: Int!) {\n      messages(before: $beforeCursor, last: $limit) {\n        edges {\n          cursor\n          node {\n            ...fragmentMessage\n          }\n        }\n      }\n    }\n  "]);return i=function(){return e},e}function o(){var e=u(["\n    mutation ($text: String!, $responseToMessageId: ID, $attachments: [Upload!], $tempId: ID) {\n      sendMessage(text: $text, responseToMessageId: $responseToMessageId, attachments: $attachments, tempId: $tempId) {\n        ...fragmentMessage\n      }\n    }\n  "]);return o=function(){return e},e}function a(){var e=u(["\n    subscription {\n      newMessage {\n        ...fragmentMessage\n      }\n    }\n  "]);return a=function(){return e},e}function u(e,t){return t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.MessageSubscription=void 0;var l=e("./ElixirChatEventTypes"),f=e("./serializers/serializeMessage"),d=e("../utilsCommon"),h=e("./GraphQLClientSocket"),p=e("./GraphQLClient"),v=function(){function n(e){var c=this,t=e.elixirChat;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),this.messageHistory=[],this.hasMessageHistoryBeenEverFetched=!1,this.temporaryMessageTempIds=[],this.latestMessageHistoryCursorsCache=[],this.reachedBeginningOfMessageHistory=!1,this.subscriptionQuery=p.insertGraphQlFragments(p.gql(a()),{fragmentMessage:f.fragmentMessage}),this.sendMessageQuery=p.insertGraphQlFragments(p.gql(o()),{fragmentMessage:f.fragmentMessage}),this.messageHistoryQuery=p.insertGraphQlFragments(p.gql(i()),{fragmentMessage:f.fragmentMessage}),this.subscribe=function(){var e=c.elixirChat,t=e.apiUrl,n=e.authToken;c.graphQLClient=new p.GraphQLClient({url:t,token:n}),c.initializeSocketClient()},this.onMessageReceive=function(e){var t,n=c.elixirChat,r=n.triggerEvent,i=n.debug,o=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.newMessage;if(o){var a=f.serializeMessage(o,c.elixirChat);c.temporaryMessageTempIds.includes(a.tempId)?c.forgetTemporaryMessage(a.tempId):(c.messageHistory.push(a),d.logEvent(i,"Received new message",{message:a}),r(l.MESSAGES_HISTORY_APPEND_ONE,a))}},this.changeMessageBy=function(r,i){var e=c.elixirChat.triggerEvent;c.messageHistory=c.messageHistory.map(function(e){var t,n=Object.assign({},e);return c.doesMessageMatchQuery(e,r)&&(n=Object.assign(Object.assign({},n),i)),null!==(t=e.responseToMessage)&&void 0!==t&&t.id&&c.doesMessageMatchQuery(e.responseToMessage,r)&&(n.responseToMessage=Object.assign(Object.assign({},n.responseToMessage),i)),n}),e(l.MESSAGES_HISTORY_CHANGE_MANY,c.messageHistory)},this.sendMessage=function(o){var a,s=c.elixirChat.debug,e=c.serializeSendMessageParams(o),u=e.variables,t=e.binaries;if(!u.text&&!u.attachments.length){var n='Either "text" or "attachments" parameter must not be empty';return d.logEvent(s,n,{variables:u},"error"),new Promise(function(e,t){t({message:n})})}if(o.appendConditionally){a=d.randomDigitStringId(6),u.tempId=a;var r=c.generateTemporaryMessage(a,o);c.appendMessageConditionally(r)}else o.retrySubmissionByTempId&&(a=o.retrySubmissionByTempId,u.tempId=a,c.changeMessageBy({tempId:a},{isSubmitting:!0,submissionErrorCode:null}));return new Promise(function(r,i){c.graphQLClient.query(c.sendMessageQuery,u,t).then(function(e){if(e&&e.sendMessage){var t=f.serializeMessage(e.sendMessage,c.elixirChat),n=t.tempId;n?(c.changeMessageBy({tempId:n},t),d.logEvent(s,"Enriched temporary message with actual one",{message:t})):d.logEvent(s,"Sent message",{params:o,variables:u,message:t}),r(t)}else c.onSendMessageFailure(a,e),i(e)}).catch(function(e){c.onSendMessageFailure(a,e),i(e)})})},this.retrySendMessage=function(e){var t;c.sendMessage({text:e.text,attachments:e.attachments,responseToMessageId:null===(t=null==e?void 0:e.responseToMessage)||void 0===t?void 0:t.id,retrySubmissionByTempId:e.tempId})},this.getMessageHistoryByCursor=function(o,e){var a=c.elixirChat.triggerEvent;return new Promise(function(r,i){c.reachedBeginningOfMessageHistory?r([]):c.graphQLClient.query(c.messageHistoryQuery,{limit:o,beforeCursor:e}).then(function(e){if(e&&e.messages){var t=c.hasMessageHistoryBeenEverFetched,n=p.simplifyGraphQLJSON(e.messages).map(function(e){return f.serializeMessage(e,c.elixirChat)}).filter(function(e){return!c.latestMessageHistoryCursorsCache.includes(e.cursor)});c.hasMessageHistoryBeenEverFetched=!0,c.latestMessageHistoryCursorsCache=[].concat(s(n.map(function(e){return e.cursor})),s(c.latestMessageHistoryCursorsCache)).slice(0,o),c.reachedBeginningOfMessageHistory=n.length<o,c.reachedBeginningOfMessageHistory&&n.unshift(c.generateNewClientPlaceholderMessage(n)),a(t?l.MESSAGES_FETCH_HISTORY_SUCCESS:l.MESSAGES_FETCH_HISTORY_INITIAL_SUCCESS,n),r(n)}else c.onGetMessageHistoryByCursorFailure(e),i(e)}).catch(function(e){c.onGetMessageHistoryByCursorFailure(e),i(e)})})},this.fetchMessageHistory=function(e){var t=c.elixirChat,n=t.triggerEvent,r=t.debug;return c.getMessageHistoryByCursor(e,null).then(function(e){return c.messageHistory=e,d.logEvent(r,"Fetched new message history",{processedMessageHistory:e}),n(l.MESSAGES_HISTORY_SET,e),e})},this.fetchPrecedingMessageHistory=function(e){var t=c.elixirChat,n=t.triggerEvent,r=t.debug,i=c.messageHistory[0].cursor;return i?c.getMessageHistoryByCursor(e,i).then(function(e){return c.messageHistory=e.concat(c.messageHistory),d.logEvent(r,"Fetched and prepended additional message history",{processedMessageHistory:e}),n(l.MESSAGES_HISTORY_PREPEND_MANY,e),e}):new Promise(function(e,t){var n="Failed to fetch previous message history - cursors not found";d.logEvent(r,n),t({message:n})})},this.unsubscribe=function(){var e=c.elixirChat.debug;d.logEvent(e,"Unsubscribing from messages..."),c.graphQLClientSocket.unsubscribe(),c.graphQLClientSocket=null,c.graphQLClient=null},this.elixirChat=t}var e,t,r;return e=n,(t=[{key:"initializeSocketClient",value:function(){var e=this.elixirChat,t=e.socketUrl,n=e.authToken,r=e.debug,i=e.triggerEvent;this.graphQLClientSocket=new h.GraphQLClientSocket({socketUrl:t,authToken:n,query:this.subscriptionQuery,onAbort:function(e){d.logEvent(r,"Failed to subscribe to messages",e,"error"),i(l.MESSAGES_SUBSCRIBE_ERROR,e)},onStart:function(){d.logEvent(r,"Successfully subscribed to messages"),i(l.MESSAGES_SUBSCRIBE_SUCCESS)},onResult:this.onMessageReceive})}},{key:"serializeSendMessageParams",value:function(e){var t="string"==typeof e.text?e.text.trim():"",n=e.tempId,r="string"==typeof e.responseToMessageId?e.responseToMessageId:null,i=[],o={};try{e.attachments.forEach(function(e){var t=e.file;i.push(t.name),o[t.name]=t})}catch(e){}return{variables:{text:t,tempId:n,attachments:i,responseToMessageId:r},binaries:o}}},{key:"generateNewClientPlaceholderMessage",value:function(e){var t;return{timestamp:(null===(t=null==e?void 0:e[0])||void 0===t?void 0:t.timestamp)||(new Date).toISOString(),id:d.randomDigitStringId(6),isSystem:!0,sender:{},attachments:[],responseToMessage:{},systemType:"NewClientPlaceholderMessage"}}},{key:"generateTemporaryMessage",value:function(e,t){var n=t.text,r=t.attachments,i=t.responseToMessageId,o=this.messageHistory.filter(function(e){return e.id===i})[0],a=r.map(function(e){var t=e.file,n=t.type,r=URL.createObjectURL(t),i=[];return d.isWebImage(n)&&e.width&&e.height&&(i=[{id:e.id,url:r}]),Object.assign(Object.assign({},e),{url:r,thumbnails:i,contentType:n,bytesSize:t.size})});return{tempId:e,id:d.randomDigitStringId(6),text:n.trim()||"",timestamp:(new Date).toISOString(),sender:{isOperator:!1,isCurrentClient:!0},responseToMessage:o||{},attachments:a,isSubmitting:!0}}},{key:"appendMessageConditionally",value:function(e){var t=this.elixirChat,n=t.triggerEvent,r=t.debug;this.messageHistory.push(e),this.temporaryMessageTempIds.push(e.tempId),d.logEvent(r,"Conditionally appended message",{message:e}),n(l.MESSAGES_HISTORY_APPEND_ONE,e)}},{key:"forgetTemporaryMessage",value:function(t){this.temporaryMessageTempIds=this.temporaryMessageTempIds.filter(function(e){return e!==t})}},{key:"doesMessageMatchQuery",value:function(e,t){for(var n in t)if(t[n]!==e[n])return!1;return!0}},{key:"onSendMessageFailure",value:function(e,t){var n,r,i=this.elixirChat.debug,o=(null===(r=null===(n=null==t?void 0:t.errors)||void 0===n?void 0:n[0])||void 0===r?void 0:r.status)||400;navigator.onLine||(o=503),d.logEvent(i,"Failed to send message with code: "+o,{response:t,tempId:e},"error"),e&&this.changeMessageBy({tempId:e},{isSubmitting:!1,submissionErrorCode:o})}},{key:"onGetMessageHistoryByCursorFailure",value:function(e){var t=this.elixirChat,n=t.triggerEvent,r=t.debug;this.hasMessageHistoryBeenEverFetched?(d.logEvent(r,"Failed to fetch message history",{error:e},"error"),n(l.MESSAGES_FETCH_HISTORY_ERROR,e)):(d.logEvent(r,"Failed to fetch initial message history",{error:e},"error"),n(l.MESSAGES_FETCH_HISTORY_INITIAL_ERROR,e))}}])&&c(e.prototype,t),r&&c(e,r),n}();n.MessageSubscription=v},{"./ElixirChatEventTypes":"Cteb","./serializers/serializeMessage":"ZEl5","../utilsCommon":"EjGt","./GraphQLClientSocket":"P6qz","./GraphQLClient":"fvSB"}],Pqo8:[function(e,t,n){"use strict";function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(){var e=function(e,t){t=t||e.slice(0);return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    mutation($companyId: Uuid!, $room: ForeignRoom, $client: ForeignClient!) {\n      joinRoom (companyId: $companyId, room: $room, client: $client) {\n        token\n        company {\n          isWorking\n          widgetTitle\n        }\n        client {\n          ...fragmentUser\n        }\n        room {\n          id\n          title\n          foreignId\n          mustOpenWidget\n        }\n      }\n    }\n  "]);return i=function(){return e},e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.ElixirChat=void 0;var s=e("unique-names-generator"),d=e("../utilsCommon"),u=e("./serializers/serializeUser"),c=e("./ScreenshotTaker"),l=e("./UnreadMessagesCounter"),f=e("./TypingStatusSubscription"),h=e("./OperatorOnlineStatusSubscription"),p=e("./UpdateMessageSubscription"),v=e("./MessageSubscription"),b=e("./GraphQLClient"),g=e("./ElixirChatEventTypes"),y=function(){function t(e){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.version="4.0.0.dev@2",this.isInitialized=!1,this.widgetMustInitiallyOpen=!1,this.widgetTitle="",this.defaultWidgetTitle="Служба поддержки",this.eventCallbacks={},this.joinRoomQuery=b.insertGraphQlFragments(b.gql(i()),{fragmentUser:u.fragmentUser}),this.markPrecedingMessagesRead=function(e){var n=o.messageHistory.map(function(e){return e.id}).indexOf(e);o.messageHistory.forEach(function(e,t){t<=n&&(e.isUnread=!1)}),o.triggerEvent(g.MESSAGES_HISTORY_CHANGE_MANY,o.messageHistory)},this.triggerEvent=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];d.logEvent(o.debug,e,{params:n},"event");var i=o.eventCallbacks[e];i&&i.length&&i.forEach(function(e){return e.apply(void 0,n)})},this.on=function(e,t){e instanceof Array?e.map(function(e){return o.on(e,t)}):(o.eventCallbacks[e]||(o.eventCallbacks[e]=[]),o.eventCallbacks[e].push(t))},this.off=function(e,t){var n=o.eventCallbacks[e];n&&n.length&&(o.eventCallbacks[e]=n.filter(function(e){return e!==t}))},this.sendMessage=function(e){return o.isConnected?(o.typingStatusSubscription.dispatchTypedText(!1),o.messageSubscription.sendMessage(e)):o.showDisconnectedError(!0)},this.retrySendMessage=function(e){return o.isConnected?o.messageSubscription.retrySendMessage(e):o.showDisconnectedError(!0)},this.fetchMessageHistory=function(e){return o.isConnected?o.messageSubscription.fetchMessageHistory(e):o.showDisconnectedError(!0)},this.fetchPrecedingMessageHistory=function(e){return o.isConnected?o.messageSubscription.fetchPrecedingMessageHistory(e):o.showDisconnectedError(!0)},this.dispatchTypedText=function(e){if(!o.isConnected)return o.showDisconnectedError();o.typingStatusSubscription.dispatchTypedText(e)},this.setLastReadMessage=function(e){return o.isConnected?o.unreadMessagesCounter.setLastReadMessage(e):o.showDisconnectedError(!0)},this.takeScreenshot=function(){return o.screenshotTaker.takeScreenshot()},this.disconnect=function(){if(!o.isConnected)return o.showDisconnectedError();d.logEvent(o.debug,"Disconnecting from ElixirChat"),o.isConnected=!1,o.messageSubscription.unsubscribe(),o.updateMessageSubscription.unsubscribe(),o.unreadMessagesCounter.unsubscribe(),o.typingStatusSubscription.unsubscribe(),o.operatorOnlineStatusSubscription.unsubscribe()},this.reconnect=function(e){var t=e.room,n=e.client;return d.logEvent(o.debug,"Attempting to reconnect to another room",{room:t,client:n}),o.setRoomAndClient({room:t,client:n}),o.disconnect(),o.joinRoom()},this.apiUrl=e.apiUrl,this.socketUrl=e.socketUrl,this.companyId=e.companyId,this.debug=e.debug||!1,this.hasAllRequiredConfigParameters()&&this.initialize(e)}var e,n,r;return e=t,(n=[{key:"hasAllRequiredConfigParameters",value:function(){var t=this,e=["apiUrl","socketUrl","companyId"].filter(function(e){return!t[e]});if(e.length){var n="Required parameters: ".concat(e.join(", ")," not provided. \nSee more: https://github.com/elixirchat/elixirchat-js-sdk#config");return d.logEvent(this.debug,n,null,"error"),!1}return!0}},{key:"initialize",value:function(e){var r=this;d.logEvent(this.debug,"Initializing ElixirChat",{apiUrl:this.apiUrl,socketUrl:this.socketUrl,companyId:this.companyId,room:this.room,client:this.client,debug:this.debug}),this.isInitialized=!0,this.on(g.JOIN_ROOM_SUCCESS,function(e){var t;d.logEvent(r.debug,"Joined room",e);var n=null===(t=null==e?void 0:e.company)||void 0===t?void 0:t.isWorking;r.messageSubscription.subscribe(),r.updateMessageSubscription.subscribe(),r.unreadMessagesCounter.subscribe(),r.typingStatusSubscription.subscribe(),r.operatorOnlineStatusSubscription.subscribe(n)}),this.on(g.JOIN_ROOM_ERROR,function(e){d.logEvent(r.debug,"Failed to join room",{error:e},"error")}),this.on(g.LAST_READ_MESSAGE_CHANGE,this.markPrecedingMessagesRead),this.setRoomAndClient({room:e.room,client:e.client}),this.screenshotTaker=new c.ScreenshotTaker({elixirChat:this}),this.messageSubscription=new v.MessageSubscription({elixirChat:this}),this.updateMessageSubscription=new p.UpdateMessageSubscription({elixirChat:this}),this.unreadMessagesCounter=new l.UnreadMessagesCounter({elixirChat:this}),this.typingStatusSubscription=new f.TypingStatusSubscription({elixirChat:this}),this.operatorOnlineStatusSubscription=new h.OperatorOnlineStatusSubscription({elixirChat:this}),this.on(g.UPDATE_MESSAGES_CHANGE,function(e){r.messageSubscription.changeMessageBy({id:e.id},e)}),this.joinRoom()}},{key:"setRoomAndClient",value:function(e){var t=e.room||{},n=e.client||{},r=d.getJSONFromLocalStorage("elixirchat-room")||{},i=d.getJSONFromLocalStorage("elixirchat-client")||{},o=this.generateAnonymousClientData(),a=n.id||i.id||o.id,s="string"==typeof n.firstName?n.firstName:i.firstName||o.firstName,u="string"==typeof n.lastName?n.lastName:i.lastName||o.lastName;s||u||(s=i.firstName||o.firstName,u=i.lastName||o.lastName),this.client={id:a.toString(),firstName:s,lastName:u},this.isPrivate=!(t.id||r.id);var c=t.id||r.id||a,l=t.title||r.title||s+" "+u,f=t.data||{};this.room={id:c.toString(),title:l,data:f},localStorage.setItem("elixirchat-room",JSON.stringify(t)),localStorage.setItem("elixirchat-client",JSON.stringify(n)),d.logEvent(this.debug,"Set room and client values",{room:this.room,client:this.client,isPrivate:this.isPrivate})}},{key:"generateAnonymousClientData",value:function(){var e=s.uniqueNamesGenerator({length:2,separator:" ",dictionaries:null}),t=o(e.split(" ").map(d.capitalize),2),n=t[0],r=t[1],i=d.randomDigitStringId(4);return{id:e.replace(" ","-")+"-"+i,firstName:n,lastName:r}}},{key:"serializeRoomData",value:function(e){var t={};for(var n in e)t[n]=e[n].toString();return JSON.stringify(t)}},{key:"joinRoom",value:function(){var n=this;this.graphQLClient=new b.GraphQLClient({url:this.apiUrl});var e=this.joinRoomQuery,t={companyId:this.companyId,client:this.client,room:{id:this.room.id,title:this.room.title,data:this.serializeRoomData(this.room.data)}};return this.graphQLClient.query(e,t).then(function(e){var t=e.joinRoom;t?(n.isConnected=!0,n.authToken=t.token,n.widgetMustInitiallyOpen=t.room.mustOpenWidget,n.elixirChatClientId=t.client.id,n.elixirChatRoomId=t.room.id,n.widgetTitle||(n.widgetTitle=t.company.widgetTitle||n.defaultWidgetTitle),n.triggerEvent(g.JOIN_ROOM_SUCCESS,t)):n.triggerEvent(g.JOIN_ROOM_ERROR,t)}).catch(function(e){n.triggerEvent(g.JOIN_ROOM_ERROR,e)})}},{key:"showDisconnectedError",value:function(e){var n="ElixirChat is not currently connected. Use reconnect() method to connect to another room.";if(d.logEvent(this.debug,n,null,"error"),e)return new Promise(function(e,t){t({message:n})})}},{key:"areAnyOperatorsOnline",get:function(){return this.operatorOnlineStatusSubscription.areAnyOperatorsOnline}},{key:"unreadMessagesCount",get:function(){return this.unreadMessagesCounter.unreadMessagesCount}},{key:"unreadRepliesCount",get:function(){return this.unreadMessagesCounter.unreadRepliesCount}},{key:"messageHistory",get:function(){return this.messageSubscription.messageHistory}},{key:"hasMessageHistoryBeenEverFetched",get:function(){return this.messageSubscription.hasMessageHistoryBeenEverFetched}},{key:"reachedBeginningOfMessageHistory",get:function(){return this.messageSubscription.reachedBeginningOfMessageHistory}}])&&a(e.prototype,n),r&&a(e,r),t}();n.ElixirChat=y,"undefined"!=typeof window&&(window.ElixirChat=y)},{"unique-names-generator":"Qz33","../utilsCommon":"EjGt","./serializers/serializeUser":"lqyB","./ScreenshotTaker":"CLsL","./UnreadMessagesCounter":"xY1B","./TypingStatusSubscription":"QERd","./OperatorOnlineStatusSubscription":"zgd1","./UpdateMessageSubscription":"AgKM","./MessageSubscription":"jRw6","./GraphQLClient":"fvSB","./ElixirChatEventTypes":"Cteb"}],QCba:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./ElixirChat");n.default=r.ElixirChat},{"./ElixirChat":"Pqo8"}]},{},["QCba"]);